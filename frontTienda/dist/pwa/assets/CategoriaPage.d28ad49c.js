import{Q as $}from"./QSkeleton.de775a50.js";import{c as ne,a as B,h as H,f as le,aA as Ve,r as j,am as je,aB as me,q as Oe,aC as be,w as N,o as Te,m as ie,g as se,aD as Ke,s as oe,aE as ve,aF as Ge,y as Ue,ar as Xe,ae as Ye,aG as He,as as Je,af as Ze,aH as $e,aI as et,aJ as tt,au as ot,aK as at,aL as nt,aM as lt,aN as it,aO as ye,u as st,aP as rt,a1 as ut,aQ as ct,aR as dt,aS as ft,al as ht,aT as Ee,at as gt,aU as mt,I as D,Q as E,aV as bt,_ as vt,D as g,E as k,F as x,G as v,S as q,M as _,Z as pe,H as b,T as F,O as K,P as ee,av as xe,V as P,ak as Se,W as yt,X as pt,$ as xt,a0 as St}from"./index.3f1e9148.js";import{Q as wt,a as we,b as V}from"./QList.20630be4.js";import{Q as _t}from"./QSpinnerDots.5bc509b9.js";import{Q as kt}from"./QBadge.6c3f19fd.js";import{Q as Pt}from"./QImg.4bd0df00.js";import{Q as Ct}from"./QPage.abdb8a8d.js";var qt=ne({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const l=B(()=>{const a=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(o=>e[o]===!0).map(o=>`q-btn-group--${o}`).join(" ");return`q-btn-group row no-wrap${a.length!==0?" "+a:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>H("div",{class:l.value},le(t.default))}});function Bt(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Ve.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const Tt={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function Ht({showing:e,avoidEmit:t,configureAnchorEl:l}){const{props:a,proxy:o,emit:i}=se(),n=j(null);let f=null;function m(s){return n.value===null?!1:s===void 0||s.touches===void 0||s.touches.length<=1}const c={};l===void 0&&(Object.assign(c,{hide(s){o.hide(s)},toggle(s){o.toggle(s),s.qAnchorHandled=!0},toggleKey(s){je(s,13)===!0&&c.toggle(s)},contextClick(s){o.hide(s),me(s),Oe(()=>{o.show(s),s.qAnchorHandled=!0})},prevent:me,mobileTouch(s){if(c.mobileCleanup(s),m(s)!==!0)return;o.hide(s),n.value.classList.add("non-selectable");const d=s.target;be(c,"anchor",[[d,"touchmove","mobileCleanup","passive"],[d,"touchend","mobileCleanup","passive"],[d,"touchcancel","mobileCleanup","passive"],[n.value,"contextmenu","prevent","notPassive"]]),f=setTimeout(()=>{f=null,o.show(s),s.qAnchorHandled=!0},300)},mobileCleanup(s){n.value.classList.remove("non-selectable"),f!==null&&(clearTimeout(f),f=null),e.value===!0&&s!==void 0&&Bt()}}),l=function(s=a.contextMenu){if(a.noParentEvent===!0||n.value===null)return;let d;s===!0?o.$q.platform.is.mobile===!0?d=[[n.value,"touchstart","mobileTouch","passive"]]:d=[[n.value,"mousedown","hide","passive"],[n.value,"contextmenu","contextClick","notPassive"]]:d=[[n.value,"click","toggle","passive"],[n.value,"keyup","toggleKey","passive"]],be(c,"anchor",d)});function h(){Ke(c,"anchor")}function S(s){for(n.value=s;n.value.classList.contains("q-anchor--skip");)n.value=n.value.parentNode;l()}function w(){if(a.target===!1||a.target===""||o.$el.parentNode===null)n.value=null;else if(a.target===!0)S(o.$el.parentNode);else{let s=a.target;if(typeof a.target=="string")try{s=document.querySelector(a.target)}catch{s=void 0}s!=null?(n.value=s.$el||s,l()):(n.value=null,console.error(`Anchor: target "${a.target}" not found`))}}return N(()=>a.contextMenu,s=>{n.value!==null&&(h(),l(s))}),N(()=>a.target,()=>{n.value!==null&&h(),w()}),N(()=>a.noParentEvent,s=>{n.value!==null&&(s===!0?h():l())}),Te(()=>{w(),t!==!0&&a.modelValue===!0&&n.value===null&&i("update:modelValue",!1)}),ie(()=>{f!==null&&clearTimeout(f),h()}),{anchorEl:n,canShow:m,anchorEvents:c}}function Et(e,t){const l=j(null);let a;function o(f,m){const c=`${m!==void 0?"add":"remove"}EventListener`,h=m!==void 0?m:a;f!==window&&f[c]("scroll",h,oe.passive),window[c]("scroll",h,oe.passive),a=m}function i(){l.value!==null&&(o(l.value),l.value=null)}const n=N(()=>e.noParentEvent,()=>{l.value!==null&&(i(),t())});return ie(n),{localScrollTarget:l,unconfigureScrollTarget:i,changeScrollEvent:o}}const{notPassiveCapture:G}=oe,I=[];function U(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let l=ve.length-1;for(;l>=0;){const a=ve[l].$;if(a.type.name==="QTooltip"){l--;continue}if(a.type.name!=="QDialog")break;if(a.props.seamless!==!0)return;l--}for(let a=I.length-1;a>=0;a--){const o=I[a];if((o.anchorEl.value===null||o.anchorEl.value.contains(t)===!1)&&(t===document.body||o.innerRef.value!==null&&o.innerRef.value.contains(t)===!1))e.qClickOutside=!0,o.onClickOutside(e);else return}}function At(e){I.push(e),I.length===1&&(document.addEventListener("mousedown",U,G),document.addEventListener("touchstart",U,G))}function _e(e){const t=I.findIndex(l=>l===e);t>-1&&(I.splice(t,1),I.length===0&&(document.removeEventListener("mousedown",U,G),document.removeEventListener("touchstart",U,G)))}let ke,Pe;function Ce(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Dt(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const ae={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{ae[`${e}#ltr`]=e,ae[`${e}#rtl`]=e});function qe(e,t){const l=e.split(" ");return{vertical:l[0],horizontal:ae[`${l[1]}#${t===!0?"rtl":"ltr"}`]}}function Nt(e,t){let{top:l,left:a,right:o,bottom:i,width:n,height:f}=e.getBoundingClientRect();return t!==void 0&&(l-=t[1],a-=t[0],i+=t[1],o+=t[0],n+=t[0],f+=t[1]),{top:l,bottom:i,height:f,left:a,right:o,width:n,middle:a+(o-a)/2,center:l+(i-l)/2}}function Mt(e,t,l){let{top:a,left:o}=e.getBoundingClientRect();return a+=t.top,o+=t.left,l!==void 0&&(a+=l[1],o+=l[0]),{top:a,bottom:a+1,height:1,left:o,right:o+1,width:1,middle:o,center:a}}function It(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function Be(e,t,l,a){return{top:e[l.vertical]-t[a.vertical],left:e[l.horizontal]-t[a.horizontal]}}function Ae(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Ae(e,t+1)},10);return}const{targetEl:l,offset:a,anchorEl:o,anchorOrigin:i,selfOrigin:n,absoluteOffset:f,fit:m,cover:c,maxHeight:h,maxWidth:S}=e;if(Ge.is.ios===!0&&window.visualViewport!==void 0){const R=document.body.style,{offsetLeft:C,offsetTop:T}=window.visualViewport;C!==ke&&(R.setProperty("--q-pe-left",C+"px"),ke=C),T!==Pe&&(R.setProperty("--q-pe-top",T+"px"),Pe=T)}const{scrollLeft:w,scrollTop:s}=l,d=f===void 0?Nt(o,c===!0?[0,0]:a):Mt(o,f,a);Object.assign(l.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:S||"100vw",maxHeight:h||"100vh",visibility:"visible"});const{offsetWidth:Q,offsetHeight:M}=l,{elWidth:L,elHeight:z}=m===!0||c===!0?{elWidth:Math.max(d.width,Q),elHeight:c===!0?Math.max(d.height,M):M}:{elWidth:Q,elHeight:M};let y={maxWidth:S,maxHeight:h};(m===!0||c===!0)&&(y.minWidth=d.width+"px",c===!0&&(y.minHeight=d.height+"px")),Object.assign(l.style,y);const r=It(L,z);let p=Be(d,r,i,n);if(f===void 0||a===void 0)te(p,d,r,i,n);else{const{top:R,left:C}=p;te(p,d,r,i,n);let T=!1;if(p.top!==R){T=!0;const A=2*a[1];d.center=d.top-=A,d.bottom-=A+2}if(p.left!==C){T=!0;const A=2*a[0];d.middle=d.left-=A,d.right-=A+2}T===!0&&(p=Be(d,r,i,n),te(p,d,r,i,n))}y={top:p.top+"px",left:p.left+"px"},p.maxHeight!==void 0&&(y.maxHeight=p.maxHeight+"px",d.height>p.maxHeight&&(y.minHeight=y.maxHeight)),p.maxWidth!==void 0&&(y.maxWidth=p.maxWidth+"px",d.width>p.maxWidth&&(y.minWidth=y.maxWidth)),Object.assign(l.style,y),l.scrollTop!==s&&(l.scrollTop=s),l.scrollLeft!==w&&(l.scrollLeft=w)}function te(e,t,l,a,o){const i=l.bottom,n=l.right,f=Ue(),m=window.innerHeight-f,c=document.body.clientWidth;if(e.top<0||e.top+i>m)if(o.vertical==="center")e.top=t[a.vertical]>m/2?Math.max(0,m-i):0,e.maxHeight=Math.min(i,m);else if(t[a.vertical]>m/2){const h=Math.min(m,a.vertical==="center"?t.center:a.vertical===o.vertical?t.bottom:t.top);e.maxHeight=Math.min(i,h),e.top=Math.max(0,h-i)}else e.top=Math.max(0,a.vertical==="center"?t.center:a.vertical===o.vertical?t.top:t.bottom),e.maxHeight=Math.min(i,m-e.top);if(e.left<0||e.left+n>c)if(e.maxWidth=Math.min(n,c),o.horizontal==="middle")e.left=t[a.horizontal]>c/2?Math.max(0,c-n):0;else if(t[a.horizontal]>c/2){const h=Math.min(c,a.horizontal==="middle"?t.middle:a.horizontal===o.horizontal?t.right:t.left);e.maxWidth=Math.min(n,h),e.left=Math.max(0,h-e.maxWidth)}else e.left=Math.max(0,a.horizontal==="middle"?t.middle:a.horizontal===o.horizontal?t.left:t.right),e.maxWidth=Math.min(n,c-e.left)}var Wt=ne({name:"QMenu",inheritAttrs:!1,props:{...Tt,...Xe,...Ye,...He,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Ce},self:{type:String,validator:Ce},offset:{type:Array,validator:Dt},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Je,"click","escapeKey"],setup(e,{slots:t,emit:l,attrs:a}){let o=null,i,n,f;const m=se(),{proxy:c}=m,{$q:h}=c,S=j(null),w=j(!1),s=B(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),d=Ze(e,h),{registerTick:Q,removeTick:M}=$e(),{registerTimeout:L}=et(),{transitionProps:z,transitionStyle:y}=tt(e),{localScrollTarget:r,changeScrollEvent:p,unconfigureScrollTarget:R}=Et(e,he),{anchorEl:C,canShow:T}=Ht({showing:w}),{hide:A}=ot({showing:w,canShow:T,handleShow:We,handleHide:Qe,hideOnRouteChange:s,processOnMount:!0}),{showPortal:re,hidePortal:ue,renderPortal:De}=at(m,S,ze,"menu"),X={anchorEl:C,innerRef:S,onClickOutside(u){if(e.persistent!==!0&&w.value===!0)return A(u),(u.type==="touchstart"||u.target.classList.contains("q-dialog__backdrop"))&&ht(u),!0}},ce=B(()=>qe(e.anchor||(e.cover===!0?"center middle":"bottom start"),h.lang.rtl)),Ne=B(()=>e.cover===!0?ce.value:qe(e.self||"top start",h.lang.rtl)),Me=B(()=>(e.square===!0?" q-menu--square":"")+(d.value===!0?" q-menu--dark q-dark":"")),Ie=B(()=>e.autoClose===!0?{onClick:Le}:{}),de=B(()=>w.value===!0&&e.persistent!==!0);N(de,u=>{u===!0?(ct(J),At(X)):(ye(J),_e(X))});function Y(){dt(()=>{let u=S.value;u&&u.contains(document.activeElement)!==!0&&(u=u.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||u.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||u.querySelector("[autofocus], [data-autofocus]")||u,u.focus({preventScroll:!0}))})}function We(u){if(o=e.noRefocus===!1?document.activeElement:null,nt(ge),re(),he(),i=void 0,u!==void 0&&(e.touchPosition||e.contextMenu)){const Z=lt(u);if(Z.left!==void 0){const{top:Re,left:Fe}=C.value.getBoundingClientRect();i={left:Z.left-Fe,top:Z.top-Re}}}n===void 0&&(n=N(()=>h.screen.width+"|"+h.screen.height+"|"+e.self+"|"+e.anchor+"|"+h.lang.rtl,O)),e.noFocus!==!0&&document.activeElement.blur(),Q(()=>{O(),e.noFocus!==!0&&Y()}),L(()=>{h.platform.is.ios===!0&&(f=e.autoClose,S.value.click()),O(),re(!0),l("show",u)},e.transitionDuration)}function Qe(u){M(),ue(),fe(!0),o!==null&&(u===void 0||u.qClickOutside!==!0)&&(((u&&u.type.indexOf("key")===0?o.closest('[tabindex]:not([tabindex^="-"])'):void 0)||o).focus(),o=null),L(()=>{ue(!0),l("hide",u)},e.transitionDuration)}function fe(u){i=void 0,n!==void 0&&(n(),n=void 0),(u===!0||w.value===!0)&&(it(ge),R(),_e(X),ye(J)),u!==!0&&(o=null)}function he(){(C.value!==null||e.scrollTarget!==void 0)&&(r.value=st(C.value,e.scrollTarget),p(r.value,O))}function Le(u){f!==!0?(rt(c,u),l("click",u)):f=!1}function ge(u){de.value===!0&&e.noFocus!==!0&&ft(S.value,u.target)!==!0&&Y()}function J(u){l("escapeKey"),A(u)}function O(){Ae({targetEl:S.value,offset:e.offset,anchorEl:C.value,anchorOrigin:ce.value,selfOrigin:Ne.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ze(){return H(ut,z.value,()=>w.value===!0?H("div",{role:"menu",...a,ref:S,tabindex:-1,class:["q-menu q-position-engine scroll"+Me.value,a.class],style:[a.style,y.value],...Ie.value},le(t.default)):null)}return ie(fe),Object.assign(c,{focus:Y,updatePosition:O}),De}});const Qt=Object.keys(Ee),Lt=e=>Qt.reduce((t,l)=>{const a=e[l];return a!==void 0&&(t[l]=a),t},{});var zt=ne({name:"QBtnDropdown",props:{...Ee,...He,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:l}){const{proxy:a}=se(),o=j(e.modelValue),i=j(null),n=gt(),f=B(()=>{const r={"aria-expanded":o.value===!0?"true":"false","aria-haspopup":"true","aria-controls":n,"aria-label":e.toggleAriaLabel||a.$q.lang.label[o.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(r["aria-disabled"]="true"),r}),m=B(()=>"q-btn-dropdown__arrow"+(o.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),c=B(()=>mt(e)),h=B(()=>Lt(e));N(()=>e.modelValue,r=>{i.value!==null&&i.value[r?"show":"hide"]()}),N(()=>e.split,y);function S(r){o.value=!0,l("beforeShow",r)}function w(r){l("show",r),l("update:modelValue",!0)}function s(r){o.value=!1,l("beforeHide",r)}function d(r){l("hide",r),l("update:modelValue",!1)}function Q(r){l("click",r)}function M(r){bt(r),y(),l("click",r)}function L(r){i.value!==null&&i.value.toggle(r)}function z(r){i.value!==null&&i.value.show(r)}function y(r){i.value!==null&&i.value.hide(r)}return Object.assign(a,{show:z,hide:y,toggle:L}),Te(()=>{e.modelValue===!0&&z()}),()=>{const r=[H(D,{class:m.value,name:e.dropdownIcon||a.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&r.push(H(Wt,{ref:i,id:n,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:S,onShow:w,onBeforeHide:s,onHide:d},t.default)),e.split===!1?H(E,{class:"q-btn-dropdown q-btn-dropdown--simple",...h.value,...f.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:Q},{default:()=>le(t.label,[]).concat(r),loading:t.loading}):H(qt,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...c.value,glossy:e.glossy,stretch:e.stretch},()=>[H(E,{class:"q-btn-dropdown--current",...h.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:M},{default:t.label,loading:t.loading}),H(E,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...f.value,...c.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>r)])}}});const Rt={name:"CategoriaPage",props:{id:{type:[String,Number],required:!0}},data(){return{productos:[],subcategorias:[],loadingSubcats:!1,loading:!1,categoriaNombre:"",subNombre:"",subId:null,currentPage:1,totalPages:1,isFetched:!1,itemsPerPage:20}},async mounted(){await this.fetchCategoria(),await this.fetchSubcategorias(),await this.fetchProductos()},watch:{id(){this.currentPage=1,this.subId=null,this.subNombre="",this.fetchCategoria(),this.fetchSubcategorias(),this.fetchProductos()}},methods:{async fetchCategoria(){try{const{data:e}=await this.$axios.get(`categories/${this.id}`);this.categoriaNombre=e.name}catch{this.categoriaNombre="Desconocida"}},async fetchSubcategorias(){this.loadingSubcats=!0;try{const{data:e}=await this.$axios.get("subcategories",{params:{category_id:this.id}}),t=Array.isArray(e)?e:e.data||[],l=Number(this.id);this.subcategorias=t.filter(a=>Number(a.category_id)===l),this.setSubNombre()}catch{this.subcategorias=[],this.subNombre=""}finally{this.loadingSubcats=!1}},setSubNombre(){if(!this.subId&&this.subId!==0){this.subNombre="";return}const e=this.subcategorias.find(t=>Number(t.id)===Number(this.subId));this.subNombre=e?e.name:""},async fetchProductos(){this.loading=!0,this.isFetched=!1,this.productos=[];try{const t=(await this.$axios.get("productsSale",{params:{category:this.id,page:this.currentPage,subcategory_id:this.subId||void 0,subcategory:this.subId||void 0}})).data.products,l=t&&t.data?t.data:[];l.length>0?(this.productos=l.map(a=>{const o={...a},i=[a.cantidadSucursal1,a.cantidadSucursal2,a.cantidadSucursal3,a.cantidadSucursal4,a.cantidadSucursal5,a.cantidadSucursal6,a.cantidadSucursal7].some(n=>n>0);return o.stockDisponible=i?"Disponible":"Sin Stock",o}),this.totalPages=t.last_page||1):(this.productos=[],this.totalPages=1)}catch(e){console.error("Error al cargar productos:",e),this.productos=[],this.totalPages=1}finally{this.loading=!1,this.isFetched=!0}},seleccionarSubcat(e){this.subId=e,this.currentPage=1,this.setSubNombre(),this.fetchProductos()},cambiarPagina(e){e<1||e>this.totalPages||(this.currentPage=e,this.fetchProductos())},resolverImagen(e){const t=e==null?void 0:e.imagen;return t?t.includes("http")?t:`${this.$url}../images/${t}`:`${this.$url}../images/noimagen.jpg`},clickDetalleProducto(e){this.$router.push("/detalle-producto/"+e.id+"/"+this.espacioCambioGuion(e.nombre))},espacioCambioGuion(e){return e.replace(/ |\/|\./g,"-").replace(/,/g,"")}}},W=e=>(xt("data-v-e0bdd91a"),e=e(),St(),e),Ft={class:"sidebar-subcats"},Vt=W(()=>v("div",{class:"aside-title"},"Subcategor\xEDas",-1)),jt=["onClick"],Ot={key:0,class:"subcat-empty"},Kt={class:"subcats-mobile"},Gt={class:"page-wrapper q-pa-md contenido"},Ut={class:"text-h5 titulo"},Xt={key:0,class:"chip"},Yt={key:0,class:"pagination-controls text-center q-mt-lg"},Jt={key:1,class:"text-center q-mt-lg"},Zt={key:2,class:"text-center q-mt-lg"},$t=W(()=>v("div",{class:"text-h6 q-mt-md"},"No hay productos en esta categor\xEDa",-1)),eo={key:3,class:"contenedor-productos"},to={class:"products-grid"},oo={key:0,class:"out-of-stock-overlay"},ao=W(()=>v("span",{class:"out-of-stock-text"},"Sin Stock",-1)),no=[ao],lo={class:"product-name"},io={class:"product-prices"},so={key:0,class:"price-old"},ro=W(()=>v("span",null,"Antes",-1)),uo=W(()=>v("br",null,null,-1)),co={class:"price-now"},fo=W(()=>v("span",null,"Ahora",-1)),ho=W(()=>v("br",null,null,-1)),go={key:0,class:"pagination-controls text-center q-mt-lg"};function mo(e,t,l,a,o,i){return g(),k(Ct,{class:"q-pa-none"},{default:x(()=>[v("aside",Ft,[Vt,o.loadingSubcats?(g(),k($,{key:0,type:"text",class:"q-mb-sm"})):q("",!0),o.loadingSubcats?(g(),k($,{key:1,type:"text",class:"q-mb-sm"})):q("",!0),o.loadingSubcats?(g(),k($,{key:2,type:"text",class:"q-mb-sm"})):(g(),_(K,{key:3},[v("div",{class:pe(["subcat-item",{active:o.subId===null}]),onClick:t[0]||(t[0]=n=>i.seleccionarSubcat(null))},[b(D,{name:"grid_view",size:"18px",class:"q-mr-sm"}),F(" Todas ")],2),(g(!0),_(K,null,ee(o.subcategorias,n=>(g(),_("div",{key:n.id,class:pe(["subcat-item",{active:Number(o.subId)===Number(n.id)}]),onClick:f=>i.seleccionarSubcat(n.id)},[b(D,{name:"label",size:"18px",class:"q-mr-sm"}),F(" "+P(n.name),1)],10,jt))),128)),o.subcategorias.length?q("",!0):(g(),_("div",Ot,"(Sin subcategor\xEDas)"))],64))]),v("div",Kt,[b(zt,{outline:"",rounded:"","no-caps":"",icon:"category",label:o.subNombre?`Subcategor\xEDa: ${o.subNombre}`:"Subcategor\xEDas","content-class":"dropdown-subcats"},{default:x(()=>[b(wt,null,{default:x(()=>[xe((g(),k(we,{clickable:"",onClick:t[1]||(t[1]=n=>i.seleccionarSubcat(null))},{default:x(()=>[b(V,{avatar:""},{default:x(()=>[b(D,{name:"grid_view"})]),_:1}),b(V,null,{default:x(()=>[F("Todas")]),_:1}),b(V,{side:""},{default:x(()=>[o.subId===null?(g(),k(D,{key:0,name:"check"})):q("",!0)]),_:1})]),_:1})),[[Se]]),(g(!0),_(K,null,ee(o.subcategorias,n=>xe((g(),k(we,{key:n.id,clickable:"",onClick:f=>i.seleccionarSubcat(n.id)},{default:x(()=>[b(V,{avatar:""},{default:x(()=>[b(D,{name:"label"})]),_:1}),b(V,null,{default:x(()=>[F(P(n.name),1)]),_:2},1024),b(V,{side:""},{default:x(()=>[Number(o.subId)===Number(n.id)?(g(),k(D,{key:0,name:"check"})):q("",!0)]),_:2},1024)]),_:2},1032,["onClick"])),[[Se]])),128))]),_:1})]),_:1},8,["label"])]),v("div",Gt,[v("h2",Ut,[F(" Categor\xEDa: "+P(o.categoriaNombre)+" ",1),o.subNombre?(g(),_("span",Xt,"\xB7 "+P(o.subNombre),1)):q("",!0)]),o.totalPages>1?(g(),_("div",Yt,[b(E,{flat:"",label:"Anterior",disabled:o.currentPage===1,onClick:t[2]||(t[2]=n=>i.cambiarPagina(o.currentPage-1))},null,8,["disabled"]),v("span",null,P(o.currentPage)+" / "+P(o.totalPages),1),b(E,{flat:"",label:"Siguiente",disabled:o.currentPage===o.totalPages,onClick:t[3]||(t[3]=n=>i.cambiarPagina(o.currentPage+1))},null,8,["disabled"])])):q("",!0),o.loading?(g(),_("div",Jt,[b(_t,{size:"50px",color:"primary"})])):o.isFetched&&o.productos.length===0?(g(),_("div",Zt,[b(D,{name:"sentiment_dissatisfied",size:"80px",color:"grey-5"}),$t])):(g(),_("div",eo,[v("div",to,[(g(!0),_(K,null,ee(o.productos,n=>(g(),k(yt,{key:n.id,class:"product-card-personalizada",flat:"",onClick:f=>i.clickDetalleProducto(n)},{default:x(()=>[b(Pt,{src:i.resolverImagen(n),style:{height:"160px","object-fit":"cover"}},{default:x(()=>[n.stockDisponible==="Sin Stock"?(g(),_("div",oo,no)):q("",!0),Number(n.porcentaje)>0?(g(),k(kt,{key:1,color:"red",floating:""},{default:x(()=>[F("-"+P(n.porcentaje)+"%",1)]),_:2},1024)):q("",!0)]),_:2},1032,["src"]),b(pt,{class:"q-pa-sm text-center"},{default:x(()=>[v("div",lo,P(n.nombre),1),v("div",io,[n.precioNormal?(g(),_("div",so,[ro,uo,v("strong",null,"Bs. "+P(n.precioNormal),1)])):q("",!0),v("div",co,[fo,ho,v("strong",null,"Bs. "+P(n.precio),1)])])]),_:2},1024),n.stockDisponible==="Disponible"?(g(),k(E,{key:0,label:"A\xF1adir al carrito",icon:"shopping_cart",class:"q-mt-sm full-width",style:{"background-color":"#2D9CDB",color:"#fff"},glossy:"",unelevated:"","no-caps":""})):(g(),k(E,{key:1,label:"Agotado",icon:"remove_shopping_cart",class:"q-mt-sm full-width",style:{"background-color":"#d9534f",color:"#fff"},unelevated:"","no-caps":"",disabled:""}))]),_:2},1032,["onClick"]))),128))]),o.totalPages>1?(g(),_("div",go,[b(E,{flat:"",label:"Anterior",disabled:o.currentPage===1,onClick:t[4]||(t[4]=n=>i.cambiarPagina(o.currentPage-1))},null,8,["disabled"]),v("span",null,P(o.currentPage)+" / "+P(o.totalPages),1),b(E,{flat:"",label:"Siguiente",disabled:o.currentPage===o.totalPages,onClick:t[5]||(t[5]=n=>i.cambiarPagina(o.currentPage+1))},null,8,["disabled"])])):q("",!0)]))])]),_:1})}var _o=vt(Rt,[["render",mo],["__scopeId","data-v-e0bdd91a"]]);export{_o as default};
