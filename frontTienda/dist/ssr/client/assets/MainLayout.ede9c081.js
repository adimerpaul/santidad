import{c as fe,i as St,e as de,l as et,p as jt,a as _,h as q,f as Wt,g as he,j as ho,r as O,k as yt,o as Ze,m as Qe,n as Kt,q as ne,s as ht,w as ee,t as bt,u as wt,v as Ut,x as Yt,y as Xt,z as go,A as po,B as So,C as yo,D as bo,E as wo,F as Lt,G as Re,H as ko,I as _o,J as st,Q as ie,K as Co,L as Pe,M as Vo,O as $o,P as Ie,R as gt,S as qo,T as xo,U as zo,V as rt,W as Ge,X as Po,_ as Io,Y as Eo,Z as Bt,$ as D,a0 as Je,a1 as L,a2 as u,a3 as w,a4 as X,a5 as ut,a6 as He,a7 as Ft,a8 as G,a9 as ct,aa as dt,ab as To,ac as ce,ad as Q,ae as ft,af as W,ag as Mt,ah as Ne,ai as Ao,aj as Oo,ak as Lo,al as Bo}from"./index.534612a3.js";import{Q as vt}from"./QBadge.0c11437b.js";import{Q as Fo}from"./QImg.a5adf003.js";import{Q as Mo}from"./QChip.e1f405b6.js";import{Q as Ro,a as Ho}from"./QItemSection.ab475864.js";import{Q as No}from"./QItemLabel.b4997331.js";import{Q as Do}from"./QMenu.8e8da661.js";var Qo=fe({name:"QPageContainer",setup(e,{slots:o}){const{proxy:{$q:n}}=he(),i=St(et,de);if(i===de)return console.error("QPageContainer needs to be child of QLayout"),de;jt(ho,!0);const s=_(()=>{const a={};return i.header.space===!0&&(a.paddingTop=`${i.header.size}px`),i.right.space===!0&&(a[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${i.right.size}px`),i.footer.space===!0&&(a.paddingBottom=`${i.footer.size}px`),i.left.space===!0&&(a[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${i.left.size}px`),a});return()=>q("div",{class:"q-page-container",style:s.value},Wt(o.default))}});const jo={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function Wo(){const{props:e,proxy:{$q:o}}=he(),n=St(et,de);if(n===de)return console.error("QPageSticky needs to be child of QLayout"),de;const i=_(()=>{const c=e.position;return{top:c.indexOf("top")>-1,right:c.indexOf("right")>-1,bottom:c.indexOf("bottom")>-1,left:c.indexOf("left")>-1,vertical:c==="top"||c==="bottom",horizontal:c==="left"||c==="right"}}),s=_(()=>n.header.offset),a=_(()=>n.right.offset),b=_(()=>n.footer.offset),g=_(()=>n.left.offset),l=_(()=>{let c=0,V=0;const S=i.value,F=o.lang.rtl===!0?-1:1;S.top===!0&&s.value!==0?V=`${s.value}px`:S.bottom===!0&&b.value!==0&&(V=`${-b.value}px`),S.left===!0&&g.value!==0?c=`${F*g.value}px`:S.right===!0&&a.value!==0&&(c=`${-F*a.value}px`);const x={transform:`translate(${c}, ${V})`};return e.offset&&(x.margin=`${e.offset[1]}px ${e.offset[0]}px`),S.vertical===!0?(g.value!==0&&(x[o.lang.rtl===!0?"right":"left"]=`${g.value}px`),a.value!==0&&(x[o.lang.rtl===!0?"left":"right"]=`${a.value}px`)):S.horizontal===!0&&(s.value!==0&&(x.top=`${s.value}px`),b.value!==0&&(x.bottom=`${b.value}px`)),x}),r=_(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function d(c){const V=Wt(c.default);return q("div",{class:r.value,style:l.value},e.expand===!0?V:[q("div",V)])}return{$layout:n,getStickyContent:d}}var Ko=fe({name:"QPageSticky",props:jo,setup(e,{slots:o}){const{getStickyContent:n}=Wo();return()=>n(o)}});function Uo(){const e=O(!yt.value);return e.value===!1&&Ze(()=>{e.value=!0}),e}const Gt=typeof ResizeObserver!="undefined",Rt=Gt===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var pt=fe({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:o}){let n=null,i,s={width:-1,height:-1};function a(l){l===!0||e.debounce===0||e.debounce==="0"?b():n===null&&(n=setTimeout(b,e.debounce))}function b(){if(n!==null&&(clearTimeout(n),n=null),i){const{offsetWidth:l,offsetHeight:r}=i;(l!==s.width||r!==s.height)&&(s={width:l,height:r},o("resize",s))}}const{proxy:g}=he();if(Gt===!0){let l;const r=d=>{i=g.$el.parentNode,i?(l=new ResizeObserver(a),l.observe(i),b()):d!==!0&&ne(()=>{r(!0)})};return Ze(()=>{r()}),Qe(()=>{n!==null&&clearTimeout(n),l!==void 0&&(l.disconnect!==void 0?l.disconnect():i&&l.unobserve(i))}),Kt}else{let d=function(){n!==null&&(clearTimeout(n),n=null),r!==void 0&&(r.removeEventListener!==void 0&&r.removeEventListener("resize",a,ht.passive),r=void 0)},c=function(){d(),i&&i.contentDocument&&(r=i.contentDocument.defaultView,r.addEventListener("resize",a,ht.passive),b())};const l=Uo();let r;return Ze(()=>{ne(()=>{i=g.$el,i&&c()})}),Qe(d),g.trigger=a,()=>{if(l.value===!0)return q("object",{style:Rt.style,tabindex:-1,type:"text/html",data:Rt.url,"aria-hidden":"true",onLoad:c})}}}}),Yo=fe({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:o,emit:n}){const{proxy:{$q:i}}=he(),s=St(et,de);if(s===de)return console.error("QFooter needs to be child of QLayout"),de;const a=O(parseInt(e.heightHint,10)),b=O(!0),g=O(yt.value===!0||s.isContainer.value===!0?0:window.innerHeight),l=_(()=>e.reveal===!0||s.view.value.indexOf("F")>-1||i.platform.is.ios&&s.isContainer.value===!0),r=_(()=>s.isContainer.value===!0?s.containerHeight.value:g.value),d=_(()=>{if(e.modelValue!==!0)return 0;if(l.value===!0)return b.value===!0?a.value:0;const f=s.scroll.value.position+r.value+a.value-s.height.value;return f>0?f:0}),c=_(()=>e.modelValue!==!0||l.value===!0&&b.value!==!0),V=_(()=>e.modelValue===!0&&c.value===!0&&e.reveal===!0),S=_(()=>"q-footer q-layout__section--marginal "+(l.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(c.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(l.value!==!0?" hidden":""):"")),F=_(()=>{const f=s.rows.value.bottom,E={};return f[0]==="l"&&s.left.space===!0&&(E[i.lang.rtl===!0?"right":"left"]=`${s.left.size}px`),f[2]==="r"&&s.right.space===!0&&(E[i.lang.rtl===!0?"left":"right"]=`${s.right.size}px`),E});function x(f,E){s.update("footer",f,E)}function H(f,E){f.value!==E&&(f.value=E)}function U({height:f}){H(a,f),x("size",f)}function M(){if(e.reveal!==!0)return;const{direction:f,position:E,inflectionPoint:J}=s.scroll.value;H(b,f==="up"||E-J<100||s.height.value-r.value-E-a.value<300)}function k(f){V.value===!0&&H(b,!0),n("focusin",f)}ee(()=>e.modelValue,f=>{x("space",f),H(b,!0),s.animate()}),ee(d,f=>{x("offset",f)}),ee(()=>e.reveal,f=>{f===!1&&H(b,e.modelValue)}),ee(b,f=>{s.animate(),n("reveal",f)}),ee([a,s.scroll,s.height],M),ee(()=>i.screen.height,f=>{s.isContainer.value!==!0&&H(g,f)});const y={};return s.instances.footer=y,e.modelValue===!0&&x("size",a.value),x("space",e.modelValue),x("offset",d.value),Qe(()=>{s.instances.footer===y&&(s.instances.footer=void 0,x("size",0),x("offset",0),x("space",!1))}),()=>{const f=bt(o.default,[q(pt,{debounce:0,onResize:U})]);return e.elevated===!0&&f.push(q("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),q("footer",{class:S.value,style:F.value,onFocusin:k},f)}}});const Xo=q("div",{class:"q-space"});var Go=fe({name:"QSpace",setup(){return()=>Xo}}),Jo=fe({name:"QField",inheritAttrs:!1,props:wt,emits:Ut,setup(){return Yt(Xt())}});const ae=1e3,Zo=["start","center","end","start-force","center-force","end-force"],el=Array.prototype.filter;function Ee(e,o){return e+o}function mt(e,o,n,i,s,a,b,g){const l=e===window?document.scrollingElement||document.documentElement:e,r=s===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-b-g,scrollMaxSize:0,offsetStart:-b,offsetEnd:-g};if(s===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=l.scrollLeft,d.scrollViewSize+=l.clientWidth),d.scrollMaxSize=l.scrollWidth,a===!0&&(d.scrollStart=0-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=l.scrollTop,d.scrollViewSize+=l.clientHeight),d.scrollMaxSize=l.scrollHeight),n!==null)for(let c=n.previousElementSibling;c!==null;c=c.previousElementSibling)c.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=c[r]);if(i!==null)for(let c=i.nextElementSibling;c!==null;c=c.nextElementSibling)c.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=c[r]);if(o!==e){const c=l.getBoundingClientRect(),V=o.getBoundingClientRect();s===!0?(d.offsetStart+=V.left-c.left,d.offsetEnd-=V.width):(d.offsetStart+=V.top-c.top,d.offsetEnd-=V.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function Ht(e,o,n,i){o==="end"&&(o=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(i===!0&&(o=0-o),window.scrollTo(o,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,o):n===!0?(i===!0&&(o=0-o),e.scrollLeft=o):e.scrollTop=o}function De(e,o,n,i){if(n>=i)return 0;const s=o.length,a=Math.floor(n/ae),b=Math.floor((i-1)/ae)+1;let g=e.slice(a,b).reduce(Ee,0);return n%ae!==0&&(g-=o.slice(a*ae,n).reduce(Ee,0)),i%ae!==0&&i!==s&&(g-=o.slice(i,b*ae).reduce(Ee,0)),g}const tl={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},ol={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...tl};function ll({virtualScrollLength:e,getVirtualScrollTarget:o,getVirtualScrollEl:n,virtualScrollItemSizeComputed:i}){const s=he(),{props:a,emit:b,proxy:g}=s,{$q:l}=g;let r,d,c,V=[],S;const F=O(0),x=O(0),H=O({}),U=O(null),M=O(null),k=O(null),y=O({from:0,to:0}),f=_(()=>a.tableColspan!==void 0?a.tableColspan:100);i===void 0&&(i=_(()=>a.virtualScrollItemSize));const E=_(()=>i.value+";"+a.virtualScrollHorizontal),J=_(()=>E.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter);ee(J,()=>{me()}),ee(E,se);function se(){pe(d,!0)}function ve(h){pe(h===void 0?d:h)}function ge(h,C){const z=o();if(z==null||z.nodeType===8)return;const R=mt(z,n(),U.value,M.value,a.virtualScrollHorizontal,l.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);c!==R.scrollViewSize&&me(R.scrollViewSize),we(z,R,Math.min(e.value-1,Math.max(0,parseInt(h,10)||0)),0,Zo.indexOf(C)>-1?C:d>-1&&h>d?"end":"start")}function re(){const h=o();if(h==null||h.nodeType===8)return;const C=mt(h,n(),U.value,M.value,a.virtualScrollHorizontal,l.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),z=e.value-1,R=C.scrollMaxSize-C.offsetStart-C.offsetEnd-x.value;if(r===C.scrollStart)return;if(C.scrollMaxSize<=0){we(h,C,0,0);return}c!==C.scrollViewSize&&me(C.scrollViewSize),Te(y.value.from);const j=Math.floor(C.scrollMaxSize-Math.max(C.scrollViewSize,C.offsetEnd)-Math.min(S[z],C.scrollViewSize/2));if(j>0&&Math.ceil(C.scrollStart)>=j){we(h,C,z,C.scrollMaxSize-C.offsetEnd-V.reduce(Ee,0));return}let T=0,P=C.scrollStart-C.offsetStart,Y=P;if(P<=R&&P+C.scrollViewSize>=F.value)P-=F.value,T=y.value.from,Y=P;else for(let I=0;P>=V[I]&&T<z;I++)P-=V[I],T+=ae;for(;P>0&&T<z;)P-=S[T],P>-C.scrollViewSize?(T++,Y=P):Y=S[T]+P;we(h,C,T,Y)}function we(h,C,z,R,j){const T=typeof j=="string"&&j.indexOf("-force")>-1,P=T===!0?j.replace("-force",""):j,Y=P!==void 0?P:"start";let I=Math.max(0,z-H.value[Y]),te=I+H.value.total;te>e.value&&(te=e.value,I=Math.max(0,te-H.value.total)),r=C.scrollStart;const ke=I!==y.value.from||te!==y.value.to;if(ke===!1&&P===void 0){Oe(z);return}const{activeElement:Be}=document,ue=k.value;ke===!0&&ue!==null&&ue!==Be&&ue.contains(Be)===!0&&(ue.addEventListener("focusout",Ae),setTimeout(()=>{ue!==null&&ue.removeEventListener("focusout",Ae)}));const We=P!==void 0?S.slice(I,z).reduce(Ee,0):0;if(ke===!0){const Se=te>=y.value.from&&I<=y.value.to?y.value.to:te;y.value={from:I,to:Se},F.value=De(V,S,0,I),x.value=De(V,S,te,e.value),requestAnimationFrame(()=>{y.value.to!==te&&r===C.scrollStart&&(y.value={from:y.value.from,to:te},x.value=De(V,S,te,e.value))})}requestAnimationFrame(()=>{if(r!==C.scrollStart)return;ke===!0&&Te(I);const Se=S.slice(I,z).reduce(Ee,0),_e=Se+C.offsetStart+F.value,Ke=_e+S[z];let Fe=_e+R;if(P!==void 0){const tt=Se-We,oe=C.scrollStart+tt;Fe=T!==!0&&oe<_e&&Ke<oe+C.scrollViewSize?oe:P==="end"?Ke-C.scrollViewSize:_e-(P==="start"?0:Math.round((C.scrollViewSize-S[z])/2))}r=Fe,Ht(h,Fe,a.virtualScrollHorizontal,l.lang.rtl),Oe(z)})}function Te(h){const C=k.value;if(C){const z=el.call(C.children,I=>I.classList&&I.classList.contains("q-virtual-scroll--skip")===!1),R=z.length,j=a.virtualScrollHorizontal===!0?I=>I.getBoundingClientRect().width:I=>I.offsetHeight;let T=h,P,Y;for(let I=0;I<R;){for(P=j(z[I]),I++;I<R&&z[I].classList.contains("q-virtual-scroll--with-prev")===!0;)P+=j(z[I]),I++;Y=P-S[T],Y!==0&&(S[T]+=Y,V[Math.floor(T/ae)]+=Y),T++}}}function Ae(){k.value!==null&&k.value!==void 0&&k.value.focus()}function pe(h,C){const z=1*i.value;(C===!0||Array.isArray(S)===!1)&&(S=[]);const R=S.length;S.length=e.value;for(let T=e.value-1;T>=R;T--)S[T]=z;const j=Math.floor((e.value-1)/ae);V=[];for(let T=0;T<=j;T++){let P=0;const Y=Math.min((T+1)*ae,e.value);for(let I=T*ae;I<Y;I++)P+=S[I];V.push(P)}d=-1,r=void 0,F.value=De(V,S,0,y.value.from),x.value=De(V,S,y.value.to,e.value),h>=0?(Te(y.value.from),ne(()=>{ge(h)})):Le()}function me(h){if(h===void 0&&typeof window!="undefined"){const P=o();P!=null&&P.nodeType!==8&&(h=mt(P,n(),U.value,M.value,a.virtualScrollHorizontal,l.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}c=h;const C=parseFloat(a.virtualScrollSliceRatioBefore)||0,z=parseFloat(a.virtualScrollSliceRatioAfter)||0,R=1+C+z,j=h===void 0||h<=0?1:Math.ceil(h/i.value),T=Math.max(1,j,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/R));H.value={total:Math.ceil(T*R),start:Math.ceil(T*C),center:Math.ceil(T*(.5+C)),end:Math.ceil(T*(1+C)),view:j}}function je(h,C){const z=a.virtualScrollHorizontal===!0?"width":"height",R={["--q-virtual-scroll-item-"+z]:i.value+"px"};return[h==="tbody"?q(h,{class:"q-virtual-scroll__padding",key:"before",ref:U},[q("tr",[q("td",{style:{[z]:`${F.value}px`,...R},colspan:f.value})])]):q(h,{class:"q-virtual-scroll__padding",key:"before",ref:U,style:{[z]:`${F.value}px`,...R}}),q(h,{class:"q-virtual-scroll__content",key:"content",ref:k,tabindex:-1},C.flat()),h==="tbody"?q(h,{class:"q-virtual-scroll__padding",key:"after",ref:M},[q("tr",[q("td",{style:{[z]:`${x.value}px`,...R},colspan:f.value})])]):q(h,{class:"q-virtual-scroll__padding",key:"after",ref:M,style:{[z]:`${x.value}px`,...R}})]}function Oe(h){d!==h&&(a.onVirtualScroll!==void 0&&b("virtualScroll",{index:h,from:y.value.from,to:y.value.to-1,direction:h<d?"decrease":"increase",ref:g}),d=h)}me();const Le=go(re,l.platform.is.ios===!0?120:35);po(()=>{me()});let p=!1;return So(()=>{p=!0}),yo(()=>{if(p!==!0)return;const h=o();r!==void 0&&h!==void 0&&h!==null&&h.nodeType!==8?Ht(h,r,a.virtualScrollHorizontal,l.lang.rtl):ge(d)}),Object.assign(g,{scrollTo:ge,reset:se,refresh:ve}),{virtualScrollSliceRange:y,virtualScrollSliceSizeComputed:H,setVirtualScrollSize:me,onVirtualScrollEvt:Le,localResetVirtualScroll:pe,padVirtualScroll:je,scrollTo:ge,reset:se,refresh:ve}}function Nt(e,o,n){if(n<=o)return o;const i=n-o+1;let s=o+(e-o)%i;return s<o&&(s=i+s),s===0?0:s}const Dt=e=>["add","add-unique","toggle"].includes(e),il=".*+?^${}()|[]\\",nl=Object.keys(wt);var al=fe({name:"QSelect",inheritAttrs:!1,props:{...ol,...bo,...wt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Dt},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Ut,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:o,emit:n}){const{proxy:i}=he(),{$q:s}=i,a=O(!1),b=O(!1),g=O(-1),l=O(""),r=O(!1),d=O(!1);let c=null,V,S,F,x=null,H,U,M,k;const y=O(null),f=O(null),E=O(null),J=O(null),se=O(null),ve=wo(e),ge=Co(It),re=_(()=>Array.isArray(e.options)?e.options.length:0),we=_(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Te,virtualScrollSliceSizeComputed:Ae,localResetVirtualScroll:pe,padVirtualScroll:me,onVirtualScrollEvt:je,scrollTo:Oe,setVirtualScrollSize:Le}=ll({virtualScrollLength:re,getVirtualScrollTarget:to,getVirtualScrollEl:zt,virtualScrollItemSizeComputed:we}),p=Xt(),h=_(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,m=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const v=e.mapOptions===!0&&V!==void 0?V:[],$=m.map(B=>eo(B,v));return e.modelValue===null&&t===!0?$.filter(B=>B!==null):$}return m}),C=_(()=>{const t={};return nl.forEach(m=>{const v=e[m];v!==void 0&&(t[m]=v)}),t}),z=_(()=>e.optionsDark===null?p.isDark.value:e.optionsDark),R=_(()=>Lt(h.value)),j=_(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||h.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),T=_(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),P=_(()=>re.value===0),Y=_(()=>h.value.map(t=>le.value(t)).join(", ")),I=_(()=>e.displayValue!==void 0?e.displayValue:Y.value),te=_(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),ke=_(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||h.value.some(te.value))),Be=_(()=>p.focused.value===!0?e.tabindex:-1),ue=_(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-controls":`${p.targetUid.value}_lb`};return g.value>=0&&(t["aria-activedescendant"]=`${p.targetUid.value}_${g.value}`),t}),We=_(()=>({id:`${p.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Se=_(()=>h.value.map((t,m)=>({index:m,opt:t,html:te.value(t),selected:!0,removeAtIndex:Zt,toggleOption:ye,tabindex:Be.value}))),_e=_(()=>{if(re.value===0)return[];const{from:t,to:m}=Te.value;return e.options.slice(t,m).map((v,$)=>{const B=Ce.value(v)===!0,A=t+$,N={clickable:!0,active:!1,activeClass:tt.value,manualFocus:!0,focused:!1,disable:B,tabindex:-1,dense:e.optionsDense,dark:z.value,role:"option",id:`${p.targetUid.value}_${A}`,onClick:()=>{ye(v)}};return B!==!0&&(it(v)===!0&&(N.active=!0),g.value===A&&(N.focused=!0),N["aria-selected"]=N.active===!0?"true":"false",s.platform.is.desktop===!0&&(N.onMousemove=()=>{a.value===!0&&Ve(A)})),{index:A,opt:v,html:te.value(v),label:le.value(v),selected:N.active,focused:N.focused,toggleOption:ye,setOptionIndex:Ve,itemProps:N}})}),Ke=_(()=>e.dropdownIcon!==void 0?e.dropdownIcon:s.iconSet.arrow.dropdown),Fe=_(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),tt=_(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),oe=_(()=>lt(e.optionValue,"value")),le=_(()=>lt(e.optionLabel,"label")),Ce=_(()=>lt(e.optionDisable,"disable")),Ue=_(()=>h.value.map(t=>oe.value(t))),Jt=_(()=>{const t={onInput:It,onChange:ge,onKeydown:xt,onKeyup:$t,onKeypress:qt,onFocus:Ct,onClick(m){S===!0&&Pe(m)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=ge,t});ee(h,t=>{V=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&p.innerLoading.value!==!0&&(b.value!==!0&&a.value!==!0||R.value!==!0)&&(F!==!0&&ze(),(b.value===!0||a.value===!0)&&$e(""))},{immediate:!0}),ee(()=>e.fillInput,ze),ee(a,nt),ee(re,mo);function kt(t){return e.emitValue===!0?oe.value(t):t}function ot(t){if(t>-1&&t<h.value.length)if(e.multiple===!0){const m=e.modelValue.slice();n("remove",{index:t,value:m.splice(t,1)[0]}),n("update:modelValue",m)}else n("update:modelValue",null)}function Zt(t){ot(t),p.focus()}function _t(t,m){const v=kt(t);if(e.multiple!==!0){e.fillInput===!0&&Me(le.value(t),!0,!0),n("update:modelValue",v);return}if(h.value.length===0){n("add",{index:0,value:v}),n("update:modelValue",e.multiple===!0?[v]:v);return}if(m===!0&&it(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const $=e.modelValue.slice();n("add",{index:$.length,value:v}),$.push(v),n("update:modelValue",$)}function ye(t,m){if(p.editable.value!==!0||t===void 0||Ce.value(t)===!0)return;const v=oe.value(t);if(e.multiple!==!0){m!==!0&&(Me(e.fillInput===!0?le.value(t):"",!0,!0),be()),f.value!==null&&f.value.focus(),(h.value.length===0||Re(oe.value(h.value[0]),v)!==!0)&&n("update:modelValue",e.emitValue===!0?v:t);return}if((S!==!0||r.value===!0)&&p.focus(),Ct(),h.value.length===0){const A=e.emitValue===!0?v:t;n("add",{index:0,value:A}),n("update:modelValue",e.multiple===!0?[A]:A);return}const $=e.modelValue.slice(),B=Ue.value.findIndex(A=>Re(A,v));if(B>-1)n("remove",{index:B,value:$.splice(B,1)[0]});else{if(e.maxValues!==void 0&&$.length>=e.maxValues)return;const A=e.emitValue===!0?v:t;n("add",{index:$.length,value:A}),$.push(A)}n("update:modelValue",$)}function Ve(t){if(s.platform.is.desktop!==!0)return;const m=t>-1&&t<re.value?t:-1;g.value!==m&&(g.value=m)}function Ye(t=1,m){if(a.value===!0){let v=g.value;do v=Nt(v+t,-1,re.value-1);while(v!==-1&&v!==g.value&&Ce.value(e.options[v])===!0);g.value!==v&&(Ve(v),Oe(v),m!==!0&&e.useInput===!0&&e.fillInput===!0&&Xe(v>=0?le.value(e.options[v]):H))}}function eo(t,m){const v=$=>Re(oe.value($),t);return e.options.find(v)||m.find(v)||t}function lt(t,m){const v=t!==void 0?t:m;return typeof v=="function"?v:$=>$!==null&&typeof $=="object"&&v in $?$[v]:$}function it(t){const m=oe.value(t);return Ue.value.find(v=>Re(v,m))!==void 0}function Ct(t){e.useInput===!0&&f.value!==null&&(t===void 0||f.value===t.target&&t.target.value===Y.value)&&f.value.select()}function Vt(t){Vo(t,27)===!0&&a.value===!0&&(Pe(t),be(),ze()),n("keyup",t)}function $t(t){const{value:m}=t.target;if(t.keyCode!==void 0){Vt(t);return}if(t.target.value="",c!==null&&(clearTimeout(c),c=null),ze(),typeof m=="string"&&m.length!==0){const v=m.toLocaleLowerCase(),$=A=>{const N=e.options.find(Z=>A.value(Z).toLocaleLowerCase()===v);return N===void 0?!1:(h.value.indexOf(N)===-1?ye(N):be(),!0)},B=A=>{$(oe)!==!0&&($(le)===!0||A===!0||$e(m,!0,()=>B(!0)))};B()}else p.clearValue(t)}function qt(t){n("keypress",t)}function xt(t){if(n("keydown",t),$o(t)===!0)return;const m=l.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),v=t.shiftKey!==!0&&e.multiple!==!0&&(g.value>-1||m===!0);if(t.keyCode===27){st(t);return}if(t.keyCode===9&&v===!1){qe();return}if(t.target===void 0||t.target.id!==p.targetUid.value||p.editable.value!==!0)return;if(t.keyCode===40&&p.innerLoading.value!==!0&&a.value===!1){Ie(t),xe();return}if(t.keyCode===8&&e.hideSelected!==!0&&l.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?ot(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof l.value!="string"||l.value.length===0)&&(Ie(t),g.value=-1,Ye(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&Ae.value!==void 0&&(Ie(t),g.value=Math.max(-1,Math.min(re.value,g.value+(t.keyCode===33?-1:1)*Ae.value.view)),Ye(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(Ie(t),Ye(t.keyCode===38?-1:1,e.multiple));const $=re.value;if((M===void 0||k<Date.now())&&(M=""),$>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||M.length!==0)){a.value!==!0&&xe(t);const B=t.key.toLocaleLowerCase(),A=M.length===1&&M[0]===B;k=Date.now()+1500,A===!1&&(Ie(t),M+=B);const N=new RegExp("^"+M.split("").map(at=>il.indexOf(at)>-1?"\\"+at:at).join(".*"),"i");let Z=g.value;if(A===!0||Z<0||N.test(le.value(e.options[Z]))!==!0)do Z=Nt(Z+1,-1,$-1);while(Z!==g.value&&(Ce.value(e.options[Z])===!0||N.test(le.value(e.options[Z]))!==!0));g.value!==Z&&ne(()=>{Ve(Z),Oe(Z),Z>=0&&e.useInput===!0&&e.fillInput===!0&&Xe(le.value(e.options[Z]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||M!=="")&&(t.keyCode!==9||v===!1))){if(t.keyCode!==9&&Ie(t),g.value>-1&&g.value<$){ye(e.options[g.value]);return}if(m===!0){const B=(A,N)=>{if(N){if(Dt(N)!==!0)return}else N=e.newValueMode;if(A==null)return;Me("",e.multiple!==!0,!0),(N==="toggle"?ye:_t)(A,N==="add-unique"),e.multiple!==!0&&(f.value!==null&&f.value.focus(),be())};if(e.onNewValue!==void 0?n("newValue",l.value,B):B(l.value),e.multiple!==!0)return}a.value===!0?qe():p.innerLoading.value!==!0&&xe()}}function zt(){return S===!0?se.value:E.value!==null&&E.value.contentEl!==null?E.value.contentEl:void 0}function to(){return zt()}function oo(){return e.hideSelected===!0?[]:o["selected-item"]!==void 0?Se.value.map(t=>o["selected-item"](t)).slice():o.selected!==void 0?[].concat(o.selected()):e.useChips===!0?Se.value.map((t,m)=>q(Mo,{key:"option-"+m,removable:p.editable.value===!0&&Ce.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:Be.value,onRemove(){t.removeAtIndex(m)}},()=>q("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:le.value(t.opt)}))):[q("span",{[ke.value===!0?"innerHTML":"textContent"]:I.value})]}function Pt(){if(P.value===!0)return o["no-option"]!==void 0?o["no-option"]({inputValue:l.value}):void 0;const t=o.option!==void 0?o.option:v=>q(Ho,{key:v.index,...v.itemProps},()=>q(Ro,()=>q(No,()=>q("span",{[v.html===!0?"innerHTML":"textContent"]:v.label}))));let m=me("div",_e.value.map(t));return o["before-options"]!==void 0&&(m=o["before-options"]().concat(m)),bt(o["after-options"],m)}function lo(t,m){const v=m===!0?{...ue.value,...p.splitAttrs.attributes.value}:void 0,$={ref:m===!0?f:void 0,key:"i_t",class:j.value,style:e.inputStyle,value:l.value!==void 0?l.value:"",type:"search",...v,id:m===!0?p.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Jt.value};return t!==!0&&S===!0&&(Array.isArray($.class)===!0?$.class=[...$.class,"no-pointer-events"]:$.class+=" no-pointer-events"),q("input",$)}function It(t){c!==null&&(clearTimeout(c),c=null),!(t&&t.target&&t.target.qComposing===!0)&&(Xe(t.target.value||""),F=!0,H=l.value,p.focused.value!==!0&&(S!==!0||r.value===!0)&&p.focus(),e.onFilter!==void 0&&(c=setTimeout(()=>{c=null,$e(l.value)},e.inputDebounce)))}function Xe(t){l.value!==t&&(l.value=t,n("inputValue",t))}function Me(t,m,v){F=v!==!0,e.useInput===!0&&(Xe(t),(m===!0||v!==!0)&&(H=t),m!==!0&&$e(t))}function $e(t,m,v){if(e.onFilter===void 0||m!==!0&&p.focused.value!==!0)return;p.innerLoading.value===!0?n("filterAbort"):(p.innerLoading.value=!0,d.value=!0),t!==""&&e.multiple!==!0&&h.value.length!==0&&F!==!0&&t===le.value(h.value[0])&&(t="");const $=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);x!==null&&clearTimeout(x),x=$,n("filter",t,(B,A)=>{(m===!0||p.focused.value===!0)&&x===$&&(clearTimeout(x),typeof B=="function"&&B(),d.value=!1,ne(()=>{p.innerLoading.value=!1,p.editable.value===!0&&(m===!0?a.value===!0&&be():a.value===!0?nt(!0):a.value=!0),typeof A=="function"&&ne(()=>{A(i)}),typeof v=="function"&&ne(()=>{v(i)})}))},()=>{p.focused.value===!0&&x===$&&(clearTimeout(x),p.innerLoading.value=!1,d.value=!1),a.value===!0&&(a.value=!1)})}function io(){return q(Do,{ref:E,class:T.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&P.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:z.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Fe.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...We.value,onScrollPassive:je,onBeforeShow:Tt,onBeforeHide:no,onShow:ao},Pt)}function no(t){At(t),qe()}function ao(){Le()}function so(t){Pe(t),f.value!==null&&f.value.focus(),r.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function ro(t){Pe(t),ne(()=>{r.value=!1})}function uo(){const t=[q(Jo,{class:`col-auto ${p.fieldClass.value}`,...C.value,for:p.targetUid.value,dark:z.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:l.value.length!==0,...p.splitAttrs.listeners.value,onFocus:so,onBlur:ro},{...o,rawControl:()=>p.getControl(!0),before:void 0,after:void 0})];return a.value===!0&&t.push(q("div",{ref:se,class:T.value+" scroll",style:e.popupContentStyle,...We.value,onClick:st,onScrollPassive:je},Pt())),q(gt,{ref:J,modelValue:b.value,position:e.useInput===!0?"top":void 0,transitionShow:U,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:Tt,onBeforeHide:co,onHide:fo,onShow:vo},()=>q("div",{class:"q-select__dialog"+(z.value===!0?" q-select__dialog--dark q-dark":"")+(r.value===!0?" q-select__dialog--focused":"")},t))}function co(t){At(t),J.value!==null&&J.value.__updateRefocusTarget(p.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),p.focused.value=!1}function fo(t){be(),p.focused.value===!1&&n("blur",t),ze()}function vo(){const t=document.activeElement;(t===null||t.id!==p.targetUid.value)&&f.value!==null&&f.value!==t&&f.value.focus(),Le()}function qe(){b.value!==!0&&(g.value=-1,a.value===!0&&(a.value=!1),p.focused.value===!1&&(x!==null&&(clearTimeout(x),x=null),p.innerLoading.value===!0&&(n("filterAbort"),p.innerLoading.value=!1,d.value=!1)))}function xe(t){p.editable.value===!0&&(S===!0?(p.onControlFocusin(t),b.value=!0,ne(()=>{p.focus()})):p.focus(),e.onFilter!==void 0?$e(l.value):(P.value!==!0||o["no-option"]!==void 0)&&(a.value=!0))}function be(){b.value=!1,qe()}function ze(){e.useInput===!0&&Me(e.multiple!==!0&&e.fillInput===!0&&h.value.length!==0&&le.value(h.value[0])||"",!0,!0)}function nt(t){let m=-1;if(t===!0){if(h.value.length!==0){const v=oe.value(h.value[0]);m=e.options.findIndex($=>Re(oe.value($),v))}pe(m)}Ve(m)}function mo(t,m){a.value===!0&&p.innerLoading.value===!1&&(pe(-1,!0),ne(()=>{a.value===!0&&p.innerLoading.value===!1&&(t>m?pe():nt(!0))}))}function Et(){b.value===!1&&E.value!==null&&E.value.updatePosition()}function Tt(t){t!==void 0&&Pe(t),n("popupShow",t),p.hasPopupOpen=!0,p.onControlFocusin(t)}function At(t){t!==void 0&&Pe(t),n("popupHide",t),p.hasPopupOpen=!1,p.onControlFocusout(t)}function Ot(){S=s.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?o["no-option"]!==void 0||e.onFilter!==void 0||P.value===!1:!0),U=s.platform.is.ios===!0&&S===!0&&e.useInput===!0?"fade":e.transitionShow}return ko(Ot),_o(Et),Ot(),Qe(()=>{c!==null&&clearTimeout(c)}),Object.assign(i,{showPopup:xe,hidePopup:be,removeAtIndex:ot,add:_t,toggleOption:ye,getOptionIndex:()=>g.value,setOptionIndex:Ve,moveOptionSelection:Ye,filter:$e,updateMenuPosition:Et,updateInputValue:Me,isOptionSelected:it,getEmittingOptionValue:kt,isOptionDisabled:(...t)=>Ce.value.apply(null,t)===!0,getOptionValue:(...t)=>oe.value.apply(null,t),getOptionLabel:(...t)=>le.value.apply(null,t)}),Object.assign(p,{innerValue:h,fieldClass:_(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:y,targetRef:f,hasValue:R,showPopup:xe,floatingLabel:_(()=>e.hideSelected!==!0&&R.value===!0||typeof l.value=="number"||l.value.length!==0||Lt(e.displayValue)),getControlChild:()=>{if(p.editable.value!==!1&&(b.value===!0||P.value!==!0||o["no-option"]!==void 0))return S===!0?uo():io();p.hasPopupOpen===!0&&(p.hasPopupOpen=!1)},controlEvents:{onFocusin(t){p.onControlFocusin(t)},onFocusout(t){p.onControlFocusout(t,()=>{ze(),qe()})},onClick(t){if(st(t),S!==!0&&a.value===!0){qe(),f.value!==null&&f.value.focus();return}xe(t)}},getControl:t=>{const m=oo(),v=t===!0||b.value!==!0||S!==!0;if(e.useInput===!0)m.push(lo(t,v));else if(p.editable.value===!0){const B=v===!0?ue.value:void 0;m.push(q("input",{ref:v===!0?f:void 0,key:"d_t",class:"q-select__focus-target",id:v===!0?p.targetUid.value:void 0,value:I.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...B,onKeydown:xt,onKeyup:Vt,onKeypress:qt})),v===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&m.push(q("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:$t}))}if(ve.value!==void 0&&e.disable!==!0&&Ue.value.length!==0){const B=Ue.value.map(A=>q("option",{value:A,selected:!0}));m.push(q("select",{class:"hidden",name:ve.value,multiple:e.multiple},B))}const $=e.useInput===!0||v!==!0?void 0:p.splitAttrs.attributes.value;return q("div",{class:"q-field__native row items-center",...$,...p.splitAttrs.listeners.value},m)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[q(ie,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:Ke.value})]:null}),Yt(p)}});const{passive:Qt}=ht,sl=["both","horizontal","vertical"];var rl=fe({name:"QScrollObserver",props:{axis:{type:String,validator:e=>sl.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:o}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let i=null,s,a;ee(()=>e.scrollTarget,()=>{l(),g()});function b(){i!==null&&i();const c=Math.max(0,xo(s)),V=zo(s),S={top:c-n.position.top,left:V-n.position.left};if(e.axis==="vertical"&&S.top===0||e.axis==="horizontal"&&S.left===0)return;const F=Math.abs(S.top)>=Math.abs(S.left)?S.top<0?"up":"down":S.left<0?"left":"right";n.position={top:c,left:V},n.directionChanged=n.direction!==F,n.delta=S,n.directionChanged===!0&&(n.direction=F,n.inflectionPoint=n.position),o("scroll",{...n})}function g(){s=qo(a,e.scrollTarget),s.addEventListener("scroll",r,Qt),r(!0)}function l(){s!==void 0&&(s.removeEventListener("scroll",r,Qt),s=void 0)}function r(c){if(c===!0||e.debounce===0||e.debounce==="0")b();else if(i===null){const[V,S]=e.debounce?[setTimeout(b,e.debounce),clearTimeout]:[requestAnimationFrame(b),cancelAnimationFrame];i=()=>{S(V),i=null}}}const{proxy:d}=he();return ee(()=>d.$q.lang.rtl,b),Ze(()=>{a=d.$el.parentNode,g()}),Qe(()=>{i!==null&&i(),l()}),Object.assign(d,{trigger:r,getPosition:()=>n}),Kt}}),ul=fe({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:o,emit:n}){const{proxy:{$q:i}}=he(),s=O(null),a=O(i.screen.height),b=O(e.container===!0?0:i.screen.width),g=O({position:0,direction:"down",inflectionPoint:0}),l=O(0),r=O(yt.value===!0?0:rt()),d=_(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),c=_(()=>e.container===!1?{minHeight:i.screen.height+"px"}:null),V=_(()=>r.value!==0?{[i.lang.rtl===!0?"left":"right"]:`${r.value}px`}:null),S=_(()=>r.value!==0?{[i.lang.rtl===!0?"right":"left"]:0,[i.lang.rtl===!0?"left":"right"]:`-${r.value}px`,width:`calc(100% + ${r.value}px)`}:null);function F(y){if(e.container===!0||document.qScrollPrevented!==!0){const f={position:y.position.top,direction:y.direction,directionChanged:y.directionChanged,inflectionPoint:y.inflectionPoint.top,delta:y.delta.top};g.value=f,e.onScroll!==void 0&&n("scroll",f)}}function x(y){const{height:f,width:E}=y;let J=!1;a.value!==f&&(J=!0,a.value=f,e.onScrollHeight!==void 0&&n("scrollHeight",f),U()),b.value!==E&&(J=!0,b.value=E),J===!0&&e.onResize!==void 0&&n("resize",y)}function H({height:y}){l.value!==y&&(l.value=y,U())}function U(){if(e.container===!0){const y=a.value>l.value?rt():0;r.value!==y&&(r.value=y)}}let M=null;const k={instances:{},view:_(()=>e.view),isContainer:_(()=>e.container),rootRef:s,height:a,containerHeight:l,scrollbarWidth:r,totalWidth:_(()=>b.value+r.value),rows:_(()=>{const y=e.view.toLowerCase().split(" ");return{top:y[0].split(""),middle:y[1].split(""),bottom:y[2].split("")}}),header:Ge({size:0,offset:0,space:!1}),right:Ge({size:300,offset:0,space:!1}),footer:Ge({size:0,offset:0,space:!1}),left:Ge({size:300,offset:0,space:!1}),scroll:g,animate(){M!==null?clearTimeout(M):document.body.classList.add("q-body--layout-animate"),M=setTimeout(()=>{M=null,document.body.classList.remove("q-body--layout-animate")},155)},update(y,f,E){k[y][f]=E}};if(jt(et,k),rt()>0){let E=function(){y=null,f.classList.remove("hide-scrollbar")},J=function(){if(y===null){if(f.scrollHeight>i.screen.height)return;f.classList.add("hide-scrollbar")}else clearTimeout(y);y=setTimeout(E,300)},se=function(ve){y!==null&&ve==="remove"&&(clearTimeout(y),E()),window[`${ve}EventListener`]("resize",J)},y=null;const f=document.body;ee(()=>e.container!==!0?"add":"remove",se),e.container!==!0&&se("add"),Po(()=>{se("remove")})}return()=>{const y=bt(o.default,[q(rl,{onScroll:F}),q(pt,{onResize:x})]),f=q("div",{class:d.value,style:c.value,ref:e.container===!0?void 0:s,tabindex:-1},y);return e.container===!0?q("div",{class:"q-layout-container overflow-hidden",ref:s},[q(pt,{onResize:H}),q("div",{class:"absolute-full",style:V.value},[q("div",{class:"scroll",style:S.value},[f])])]):f}}});const cl=Eo({name:"MainLayout",data(){return{tab:"Inicio",tabs:[{name:"Inicio",label:"Inicio",to:"/"},{name:"Sucursales",label:"Sucursales",to:"/sucursales"}],leftDrawerOpen:!1,carritoDialog:!1,newsletter:"",newsletterOk:!1,search:"",loading:!1,drawer:!1,suggestions:[],showSuggestions:!1,activeIndex:-1,selectedSucursal:null,sucursales:[],validacionStock:{dialog:!1,productosSinStock:[],sucursalSeleccionada:null},panelWidth:0}},computed:{panelStyle(){return{width:this.panelWidth?`${this.panelWidth}px`:"100%"}},subtotal(){var e;return(e=this.$store)!=null&&e.carrito.length?this.$store.carrito.reduce((o,n)=>o+Number(n.precio)*Number(n.cantidad),0):0}},mounted(){this.$nextTick(()=>{this.calcPanelWidth(),window.addEventListener("resize",this.calcPanelWidth,{passive:!0}),document.addEventListener("click",this.handleClickOutside)}),this.getSucursales(),this.$route.hash==="#seccion-categorias"&&this.scrollToCategoriesWithRetry()},beforeUnmount(){window.removeEventListener("resize",this.calcPanelWidth),document.removeEventListener("click",this.handleClickOutside)},watch:{"$route.hash"(e){e==="#seccion-categorias"&&this.scrollToCategoriesWithRetry()}},methods:{suscribir(){!this.newsletter||(this.newsletterOk=!0,setTimeout(()=>{this.newsletter="",this.newsletterOk=!1},2e3))},async pedirCarritoWhatsApp(){if(!this.selectedSucursal){this.$q.notify({type:"warning",message:"Por favor selecciona una sucursal"});return}const e=await this.verificarStockSucursal();if(!!e){if(e.productos_sin_stock&&e.productos_sin_stock.length>0){this.validacionStock.productosSinStock=e.productos_sin_stock,this.validacionStock.sucursalSeleccionada=this.selectedSucursal,this.validacionStock.dialog=!0;return}this.procesarPedidoWhatsApp()}},async eliminarSinStockYEnviar(){const e=this.validacionStock.productosSinStock.map(o=>o.producto_id);if(this.$store.carrito=this.$store.carrito.filter(o=>!e.includes(o.id)),this.validacionStock.dialog=!1,this.$store.carrito.length===0){this.$q.notify({type:"warning",message:"Todos los productos fueron removidos por falta de stock"}),this.carritoDialog=!1;return}await this.procesarPedidoWhatsApp()},cancelarPedido(){this.validacionStock.dialog=!1,this.$q.notify({type:"info",message:"Pedido cancelado"})},editarCantidades(){this.validacionStock.dialog=!1,this.$q.notify({type:"info",message:"Puedes ajustar las cantidades en el carrito",timeout:3e3})},clickCarrito(){this.carritoDialog=!this.carritoDialog},removeCarrito(e){this.$store.carrito.splice(e,1)},incrementarCantidad(e){this.$store.carrito[e].cantidad++},decrementarCantidad(e){this.$store.carrito[e].cantidad>1&&this.$store.carrito[e].cantidad--},async getSucursales(){const{data:e}=await this.$axios.get("sucursales");this.sucursales=(e||[]).map(o=>({...o,cantidad:Number(o.cantidad||0)})),console.log(this.sucursales)},async verificarStockSucursal(){if(!this.selectedSucursal)return this.$q.notify({type:"warning",message:"Por favor selecciona una sucursal"}),null;try{const e=this.$store.carrito.map(n=>({producto_id:n.id,cantidad:n.cantidad})),{data:o}=await this.$axios.post("stock/verificar-sucursal",{sucursal_id:this.selectedSucursal.value,productos:e});return o}catch(e){return console.error("Error verificando stock:",e),this.$q.notify({type:"negative",message:"Error verificando disponibilidad"}),null}},async procesarPedidoWhatsApp(){var b,g,l,r,d,c,V,S,F,x,H,U,M;const e=this.$store.carrito;if(!e||!e.length)return;const o=e.reduce((k,y)=>{const f=Number(y.precio)||0,E=Number(y.cantidad)||0;return k+f*E},0),n={items:e.map(k=>{var y;return{product_id:(y=k.id)!=null?y:null,nombre:k.nombre,precio:Number(k.precio)||0,cantidad:Number(k.cantidad)||0,imagen:k.imagen||null}}),customer:{name:(l=(g=(b=this.$store)==null?void 0:b.cliente)==null?void 0:g.nombre)!=null?l:null,phone:(c=(d=(r=this.$store)==null?void 0:r.cliente)==null?void 0:d.celular)!=null?c:null,address:(F=(S=(V=this.$store)==null?void 0:V.cliente)==null?void 0:S.direccion)!=null?F:null},sucursal_id:this.selectedSucursal.value,sucursal_nombre:this.selectedSucursal.label};let i="";try{const{data:k}=await this.$axios.post("orders",n,{headers:{"Content-Type":"application/json"}});i=(k==null?void 0:k.order_number)||(k==null?void 0:k.orderNumber)||(k==null?void 0:k.numero)||(k==null?void 0:k.numero_pedido)||((x=k==null?void 0:k.order)==null?void 0:x.order_number)||((H=k==null?void 0:k.data)==null?void 0:H.order_number)||""}catch(k){console.error("Error guardando pedido:",{message:k==null?void 0:k.message,status:(U=k==null?void 0:k.response)==null?void 0:U.status,data:(M=k==null?void 0:k.response)==null?void 0:M.data})}let s=i?`\u{1F4E6} *Pedido:* ${i}

`:`\u{1F4E6} *Pedido:* (sin ID, no se pudo registrar)

`;s+=`\u{1F4CD} *Sucursal seleccionada:* ${this.selectedSucursal.label}

`,e.forEach((k,y)=>{const f=Number(k.precio)||0,E=Number(k.cantidad)||0,J=f*E;s+=`${y+1}. *${k.nombre}*
`,s+=`   Cantidad: ${E}
`,s+=`   Precio unitario: Bs. ${this.formatPrice(f)}
`,s+=`   Subtotal: Bs. ${this.formatPrice(J)}

`}),s+=`*=======================*
`,s+=`*RESUMEN DEL PEDIDO:*
`,s+=`\u{1F4E6} Subtotal: Bs. ${this.formatPrice(o)}
`,s+=`\u{1F69A} Env\xEDo: Por Coordinar
`,s+=`\u{1F4B3} *TOTAL: Bs. ${this.formatPrice(o)}*

`,s+="Por favor, confirmen mi pedido. \xA1Gracias! \u{1F60A}";const a=`https://wa.me/59172319869?text=${encodeURIComponent(s)}`;window.open(a,"_blank")},async onType(){const e=this.search.trim();if(e.length<2){this.suggestions=[],this.showSuggestions=!1,this.activeIndex=-1;return}try{const{data:o}=await this.$axios.get("/products/suggest",{params:{q:e,limit:8}});this.suggestions=(o||[]).map(n=>{var g,l,r;const i={...n};i.porcentaje=Number(i.porcentaje||i.descuento||0);const s=Number((g=i.precio)!=null?g:0),a=(r=(l=i.precioAntes)!=null?l:i.precioNormal)!=null?r:null,b=a!==null&&a!==""&&!isNaN(Number(a))?Number(a):null;if(i.porcentaje>0){const d=b&&b>0?b:s;i.precio_antes=d,i.precio_ahora=Number(d*(1-i.porcentaje/100))}else i.precio_antes=b&&b>0?b:null,i.precio_ahora=s;if((!i.porcentaje||i.porcentaje===0)&&i.precio_antes&&i.precio_ahora){const d=i.precio_antes-i.precio_ahora;i.porcentaje=i.precio_antes>0?Math.round(d/i.precio_antes*100):0}return i}),this.activeIndex=this.suggestions.length?0:-1,this.maybeOpen()}catch(o){console.error("Error en sugerencias",o),this.suggestions=[],this.showSuggestions=!1,this.activeIndex=-1}},maybeOpen(){(this.suggestions||[]).length>0&&(this.showSuggestions=!0,this.calcPanelWidth())},onBlur(){setTimeout(()=>{this.showSuggestions=!1},120)},handleClickOutside(e){const o=this.$refs.searchWrap;o&&!o.contains(e.target)&&(this.showSuggestions=!1)},calcPanelWidth(){const e=this.$refs.searchWrap;if(!e)return;const o=e.querySelector(".q-field");this.panelWidth=o?o.getBoundingClientRect().width:e.getBoundingClientRect().width},move(e){if(!this.showSuggestions||!this.suggestions.length)return;const o=this.suggestions.length;this.activeIndex=(this.activeIndex+e+o)%o},enterSelect(){if(!this.showSuggestions||this.activeIndex<0){this.buscar();return}const e=this.suggestions[this.activeIndex];this.selectSuggestion(e)},selectSuggestion(e){this.search=e.title,this.showSuggestions=!1,this.activeIndex=-1,this.$router.push("/detalle-producto/"+e.id+"/"+this.espacioCambioGuion(e.title))},verTodos(){this.buscar()},buscar(){const e=(this.search||"").trim();!e||(this.$router.push({name:"buscar",query:{q:e,page:1}}),this.drawer=!1,this.showSuggestions=!1,this.activeIndex=-1)},toggleDrawer(){this.drawer=!this.drawer},navegarA(e){this.$router.push(e),this.drawer=!1},scrollCategorias(){this.drawer=!1;const e="#seccion-categorias";if(this.$route.path==="/"){this.$route.hash!==e&&this.$router.replace({hash:e}),this.scrollToCategoriesWithRetry();return}this.$router.push({path:"/",hash:e}).then(()=>{this.scrollToCategoriesWithRetry()})},scrollToCategoriesWithRetry(){const e="#seccion-categorias";let o=0;const n=20,i=()=>{const s=document.querySelector(e);if(s){s.scrollIntoView({behavior:"smooth",block:"start"});return}o++<n&&setTimeout(i,100)};ne(()=>i())},formatPrice(e){return Number(e!=null?e:0).toFixed(2)},espacioCambioGuion(e){return e.replace(/ |\/|\./g,"-").replace(/,/g,"")}}}),K=e=>(Lo("data-v-69c004ff"),e=e(),Bo(),e),dl={class:"barra-superior"},fl={class:"search-container",ref:"searchWrap"},vl={key:0,class:"predictive-list"},ml=["onMousedown"],hl=["src"],gl={class:"predictive-info"},pl={class:"predictive-title"},Sl={class:"predictive-prices"},yl={key:0,class:"old"},bl={class:"now"},wl={key:1,class:"badge"},kl={key:1,class:"predictive-empty"},_l={class:"predictive-footer"},Cl={key:1,class:"menu-navegacion"},Vl={class:"footer-top q-pa-lg"},$l={class:"container grid"},ql={class:"col"},xl=K(()=>u("div",{class:"brand row items-center"},[u("img",{src:"/images/logo.png",alt:"Logo",class:"logo"}),u("div",{class:"q-ml-sm"},[u("div",{class:"text-h6 text-bold"},"Farmacia Santidad Divina"),u("div",{class:"text-subtitle2 opacity-70"},"Precio Solidario")])],-1)),zl=K(()=>u("div",{class:"q-mt-md text-body2 opacity-80"}," Atendemos con \xE9tica y responsabilidad. Encuentra medicamentos, dermocosm\xE9tica y cuidado personal a precios justos. ",-1)),Pl={class:"row q-gutter-sm q-mt-md"},Il={class:"col"},El=K(()=>u("div",{class:"col-title"},"Navegaci\xF3n",-1)),Tl={class:"links"},Al=K(()=>u("a",{class:"link",href:"tel:+59172319869"},"Ll\xE1manos",-1)),Ol=K(()=>u("a",{class:"link",href:"mailto:contacto@santidad.com"},"farmaciasantidaddivinacentral@gmail.com",-1)),Ll={class:"col"},Bl=K(()=>u("div",{class:"col-title"},"Legales",-1)),Fl={class:"links"},Ml={class:"col"},Rl=K(()=>u("div",{class:"col-title"},"Contacto",-1)),Hl={class:"text-body2 opacity-80"},Nl={class:"row items-center q-gutter-x-sm q-mb-xs"},Dl=K(()=>u("span",null,"Oruro, Bolivia",-1)),Ql={class:"row items-center q-gutter-x-sm q-mb-xs"},jl=K(()=>u("span",null,"Lun-Dom: 08:00\u201310:00",-1)),Wl={class:"row items-center q-gutter-x-sm"},Kl=K(()=>u("a",{class:"link",href:"tel:+59172319869"},"+591 72319869",-1)),Ul={class:"q-mt-md"},Yl={key:0,class:"text-positive text-caption q-mt-xs"},Xl={class:"footer-bottom q-py-sm"},Gl={class:"container row items-center justify-between"},Jl={class:"text-caption opacity-70"},Zl={class:"row q-gutter-sm"},ei=K(()=>u("a",{class:"link tiny",href:"mailto:legal@santidad.com"},"farmaciasantidaddivinacentral@gmail.com",-1)),ti={class:"text-h6 row items-center"},oi={key:0,class:"carrito-vacio text-center q-pa-xl"},li=K(()=>u("div",{class:"text-h6 text-grey-6 q-mt-md"},"Tu carrito est\xE1 vac\xEDo",-1)),ii=K(()=>u("div",{class:"text-grey-5 q-mt-sm"},"Agrega algunos productos para continuar",-1)),ni={key:1,class:"productos-list"},ai={class:"producto-imagen"},si={class:"producto-info"},ri={class:"producto-nombre"},ui={class:"producto-precio"},ci={class:"producto-controls"},di={class:"cantidad"},fi={class:"producto-total"},vi={class:"subtotal"},mi={class:"resumen-item row justify-between q-mb-sm"},hi=K(()=>u("span",null,"Subtotal:",-1)),gi={class:"text-weight-bold"},pi=K(()=>u("div",{class:"resumen-item row justify-between q-mb-sm"},[u("span",null,"Env\xEDo:"),u("span",{class:"text-positive"},"Por Coordinar")],-1)),Si={class:"total-final row justify-between text-h6"},yi=K(()=>u("span",null,"Total:",-1)),bi={class:"text-weight-bold text-green"},wi={class:"text-h6 row items-center"},ki={class:"text-subtitle2 q-mb-md"},_i={class:"productos-sin-stock"},Ci={class:"row items-center"},Vi={class:"col"},$i={class:"text-weight-bold"},qi={class:"text-caption"},xi={class:"col-auto"},zi=K(()=>u("div",{class:"text-caption text-grey-7 q-mt-md"}," \xBFQu\xE9 deseas hacer? ",-1));function Pi(e,o,n,i,s,a){const b=Bt("router-view"),g=Bt("router-link");return D(),Je(ul,{view:"lHh Lpr lff"},{default:L(()=>[u("div",dl,[w(X,{flat:"",round:"",dense:"",icon:"menu",onClick:e.toggleDrawer,size:"md"},null,8,["onClick"]),u("div",fl,[w(Ft,{modelValue:e.search,"onUpdate:modelValue":[o[0]||(o[0]=l=>e.search=l),e.onType],dense:"",outlined:"",rounded:"",placeholder:"Buscar Producto / Palabra Clave",class:"search-input q-ml-sm",debounce:250,onKeyup:ut(He(e.enterSelect,["prevent"]),["enter"]),onKeydown:[o[1]||(o[1]=ut(He(l=>e.move(1),["prevent"]),["down"])),o[2]||(o[2]=ut(He(l=>e.move(-1),["prevent"]),["up"]))],onFocus:e.maybeOpen,onBlur:e.onBlur},{prepend:L(()=>[w(ie,{name:"search"})]),_:1},8,["modelValue","onUpdate:modelValue","onKeyup","onFocus","onBlur"]),w(X,{label:"Buscar",rounded:"","no-caps":"",loading:e.loading,class:"q-ml-sm",onClick:e.buscar},null,8,["loading","onClick"]),e.showSuggestions?(D(),G("div",{key:0,class:"predictive-panel",style:To(e.panelStyle)},[e.suggestions.length?(D(),G("div",vl,[(D(!0),G(ct,null,dt(e.suggestions,(l,r)=>{var d;return D(),G("button",{key:l.id,class:Oo(["predictive-item",{active:r===e.activeIndex}]),onMousedown:He(c=>e.selectSuggestion(l),["prevent"]),type:"button"},[u("img",{class:"predictive-thumb",src:`${e.$url}../images/${l.imagen}`,alt:"",onError:o[3]||(o[3]=c=>c.target.src="/images/productDefault.jpg")},null,40,hl),u("div",gl,[u("div",pl,W(l.title),1),u("div",Sl,[l.precio_antes?(D(),G("span",yl,"Bs. "+W(e.formatPrice(l.precio_antes)),1)):ce("",!0),u("span",bl,"Bs. "+W(e.formatPrice((d=l.precio_ahora)!=null?d:l.precio)),1),Number(l.porcentaje)>0?(D(),G("span",wl,"-"+W(l.porcentaje)+"%",1)):ce("",!0)])])],42,ml)}),128))])):(D(),G("div",kl," No hay resultados ")),u("div",_l,[u("button",{class:"predictive-seeall",onMousedown:o[4]||(o[4]=He((...l)=>e.verTodos&&e.verTodos(...l),["prevent"])),type:"button"}," Ver todos los resultados ",32)])],4)):ce("",!0)],512)]),e.drawer?(D(),G("div",{key:0,class:"overlay-cierra-menu",onClick:o[5]||(o[5]=l=>e.drawer=!1)})):ce("",!0),e.drawer?(D(),G("div",Cl,[u("div",{class:"menu-item",onClick:o[6]||(o[6]=l=>e.navegarA("/"))},[w(ie,{name:"home",class:"q-mr-sm"}),Q("Inicio ")]),u("div",{class:"menu-item",onClick:o[7]||(o[7]=l=>e.navegarA("/sucursales"))},[w(ie,{name:"store",class:"q-mr-sm"}),Q("Sucursales ")]),u("div",{class:"menu-item",onClick:o[8]||(o[8]=(...l)=>e.scrollCategorias&&e.scrollCategorias(...l))},[w(ie,{name:"category",class:"q-mr-sm"}),Q("Categor\xEDas ")])])):ce("",!0),w(Qo,null,{default:L(()=>[w(b)]),_:1}),w(Ko,{position:"bottom-right",class:"q-ma-md",offset:[18,18]},{default:L(()=>[w(X,{color:"green",fab:"",icon:"fa-solid fa-cart-shopping",onClick:e.clickCarrito},{default:L(()=>{var l,r;return[(l=e.$store)!=null&&l.carrito.length?(D(),Je(vt,{key:0,color:"red",floating:"",label:(r=e.$store)==null?void 0:r.carrito.length},null,8,["label"])):ce("",!0)]}),_:1},8,["onClick"])]),_:1}),w(Yo,{class:"footer-modern no-border"},{default:L(()=>[u("div",Vl,[u("div",$l,[u("div",ql,[xl,zl,u("div",Pl,[w(X,{round:"",dense:"",flat:"",class:"social",icon:"fa-brands fa-facebook",href:"https://www.facebook.com/profile.php?id=61562087074524",target:"_blank"}),w(X,{round:"",dense:"",flat:"",class:"social",icon:"fa-brands fa-instagram",href:" https://www.instagram.com/farmacias_santidad_divina/?igsh=emI5NGl6ODNvejJu/",target:"_blank"}),w(X,{round:"",dense:"",flat:"",class:"social",icon:"fa-brands fa-tiktok",href:"https://www.tiktok.com/@santidad_divina/",target:"_blank"}),w(X,{round:"",dense:"",flat:"",class:"social",icon:"fa-brands fa-whatsapp",href:"https://wa.me/59172319869",target:"_blank"})])]),u("div",Il,[El,u("div",Tl,[w(g,{class:"link",to:"/"},{default:L(()=>[Q("Inicio")]),_:1}),w(g,{class:"link",to:"/sucursales"},{default:L(()=>[Q("Sucursales")]),_:1}),Al,Ol])]),u("div",Ll,[Bl,u("div",Fl,[w(g,{class:"link",to:"/privacidad"},{default:L(()=>[Q("Pol\xEDticas de Privacidad")]),_:1}),w(g,{class:"link",to:"/envio"},{default:L(()=>[Q("Pol\xEDtica de Env\xEDo")]),_:1}),w(g,{class:"link",to:"/terminos"},{default:L(()=>[Q("T\xE9rminos y Condiciones")]),_:1}),w(g,{class:"link",to:"/quienes-somos"},{default:L(()=>[Q("Qui\xE9nes Somos")]),_:1})])]),u("div",Ml,[Rl,u("div",Hl,[u("div",Nl,[w(ie,{name:"place",size:"20px"}),Dl]),u("div",Ql,[w(ie,{name:"schedule",size:"20px"}),jl]),u("div",Wl,[w(ie,{name:"phone",size:"20px"}),Kl])]),u("div",Ul,[w(Ft,{dense:"",standout:"",modelValue:e.newsletter,"onUpdate:modelValue":o[9]||(o[9]=l=>e.newsletter=l),placeholder:"Tu correo electr\xF3nico",type:"email"},{append:L(()=>[w(X,{dense:"",flat:"",icon:"send",onClick:e.suscribir},null,8,["onClick"])]),_:1},8,["modelValue"]),e.newsletterOk?(D(),G("div",Yl,"\xA1Gracias por suscribirte!")):ce("",!0)])])])]),w(ft,{dark:"",class:"separator"}),u("div",Xl,[u("div",Gl,[u("div",Jl," \xA9 "+W(new Date().getFullYear())+" Farmacia Santidad Divina. Todos los derechos reservados. ",1),u("div",Zl,[w(g,{class:"link tiny",to:"/privacidad"},{default:L(()=>[Q("Privacidad")]),_:1}),w(g,{class:"link tiny",to:"/terminos"},{default:L(()=>[Q("T\xE9rminos")]),_:1}),ei])])])]),_:1}),w(gt,{modelValue:e.carritoDialog,"onUpdate:modelValue":o[12]||(o[12]=l=>e.carritoDialog=l),maximized:"",position:"right"},{default:L(()=>[w(Mt,{class:"carrito-moderno"},{default:L(()=>{var l;return[w(Ne,{class:"carrito-header"},{default:L(()=>{var r;return[u("div",ti,[w(ie,{name:"fa-solid fa-cart-shopping",class:"q-mr-sm"}),Q(" Mi Carrito "),(r=e.$store)!=null&&r.carrito.length?(D(),Je(vt,{key:0,color:"red",class:"q-ml-sm"},{default:L(()=>{var d;return[Q(W((d=e.$store)==null?void 0:d.carrito.length),1)]}),_:1})):ce("",!0)]),w(Go),w(X,{flat:"",round:"",icon:"close",onClick:e.clickCarrito},null,8,["onClick"])]}),_:1}),w(Ne,{class:"carrito-content"},{default:L(()=>{var r,d;return[(r=e.$store)!=null&&r.carrito.length?(D(),G("div",ni,[(D(!0),G(ct,null,dt((d=e.$store)==null?void 0:d.carrito,(c,V)=>(D(),G("div",{class:"producto-item",key:c.id},[u("div",ai,[w(Fo,{src:c.imagen.includes("http")?c.imagen:`${e.$url}../images/${c.imagen}`,alt:c.nombre,class:"imagen",onError:o[10]||(o[10]=S=>S.target.src="/images/productDefault.jpg")},null,8,["src","alt"])]),u("div",si,[u("div",ri,W(c.nombre),1),u("div",ui,"Bs. "+W(e.formatPrice(c.precio)),1),u("div",ci,[w(X,{round:"",dense:"",icon:"remove",size:"sm",onClick:S=>e.decrementarCantidad(V),disable:c.cantidad<=1},null,8,["onClick","disable"]),u("span",di,W(c.cantidad),1),w(X,{round:"",dense:"",icon:"add",size:"sm",onClick:S=>e.incrementarCantidad(V)},null,8,["onClick"])])]),u("div",fi,[u("div",vi,"Bs. "+W(e.formatPrice(c.precio*c.cantidad)),1),w(X,{flat:"",round:"",icon:"delete",color:"red",size:"sm",onClick:S=>e.removeCarrito(V),class:"q-mt-xs"},null,8,["onClick"])])]))),128))])):(D(),G("div",oi,[w(ie,{name:"fa-solid fa-cart-plus",size:"64px",color:"grey-4"}),li,ii]))]}),_:1}),(l=e.$store)!=null&&l.carrito.length?(D(),Je(Ne,{key:0,class:"resumen-pedido"},{default:L(()=>[w(ft,{class:"q-mb-md"}),u("div",mi,[hi,u("span",gi,"Bs. "+W(e.formatPrice(e.subtotal)),1)]),pi,w(ft,{class:"q-my-md"}),u("div",Si,[yi,u("span",bi,"Bs. "+W(e.formatPrice(e.subtotal)),1)]),w(al,{modelValue:e.selectedSucursal,"onUpdate:modelValue":o[11]||(o[11]=r=>e.selectedSucursal=r),options:e.sucursales.map(r=>({label:r.nombre,value:r.id})),label:"Selecciona la sucursal",filled:"",class:"q-mb-md",disable:!e.sucursales.length,placeholder:"Elige una sucursal",required:""},null,8,["modelValue","options","disable"]),w(X,{icon:"fa-brands fa-whatsapp",label:"Pedir por WhatsApp",color:"green","no-caps":"",class:"full-width q-mt-lg whatsapp-btn",size:"lg",onClick:e.pedirCarritoWhatsApp},null,8,["onClick"])]),_:1})):ce("",!0)]}),_:1})]),_:1},8,["modelValue"]),w(gt,{modelValue:e.validacionStock.dialog,"onUpdate:modelValue":o[13]||(o[13]=l=>e.validacionStock.dialog=l),persistent:""},{default:L(()=>[w(Mt,{class:"carrito-moderno",style:{"max-width":"500px"}},{default:L(()=>[w(Ne,{class:"carrito-header"},{default:L(()=>[u("div",wi,[w(ie,{name:"warning",color:"orange",class:"q-mr-sm"}),Q(" Productos sin stock disponible ")])]),_:1}),w(Ne,{class:"carrito-content"},{default:L(()=>{var l;return[u("div",ki,[Q(" Los siguientes productos no tienen stock suficiente en la sucursal "),u("strong",null,W((l=e.validacionStock.sucursalSeleccionada)==null?void 0:l.label),1),Q(": ")]),u("div",_i,[(D(!0),G(ct,null,dt(e.validacionStock.productosSinStock,r=>(D(),G("div",{key:r.producto_id,class:"producto-sin-stock q-pa-sm q-mb-sm",style:{border:"1px solid #ffcdd2","border-radius":"8px",background:"#fff5f5"}},[u("div",Ci,[u("div",Vi,[u("div",$i,W(r.nombre),1),u("div",qi,[Q(" Stock disponible: "),u("strong",null,W(r.stock_disponible),1),Q(" | Pedido: "),u("strong",null,W(r.cantidad_solicitada),1)])]),u("div",xi,[w(vt,{color:"red",class:"q-ml-sm"},{default:L(()=>[Q(" Faltan: "+W(r.cantidad_solicitada-r.stock_disponible),1)]),_:2},1024)])])]))),128))]),zi]}),_:1}),w(Ao,{align:"right",class:"q-pa-md"},{default:L(()=>[w(X,{flat:"",label:"Cancelar todo",color:"negative",onClick:e.cancelarPedido},null,8,["onClick"]),w(X,{flat:"",label:"Editar cantidades",color:"primary",onClick:e.editarCantidades},null,8,["onClick"]),w(X,{label:"Eliminar sin stock y enviar",color:"positive",onClick:e.eliminarSinStockYEnviar},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var Fi=Io(cl,[["render",Pi],["__scopeId","data-v-69c004ff"]]);export{Fi as default};
