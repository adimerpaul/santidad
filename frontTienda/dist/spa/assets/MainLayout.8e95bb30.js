import{c as fe,i as yt,e as de,l as tt,p as Kt,a as _,h as q,f as Ut,g as he,j as po,r as T,k as bt,o as Ze,m as Ee,n as wt,q as ne,s as gt,w as ee,t as kt,u as _t,v as Yt,x as Xt,y as Gt,z as So,A as yo,B as bo,C as wo,D as ko,E as _o,F as Bt,G as He,H as Co,I as Vo,J as rt,Q as ie,K as $o,L as Ae,M as qo,O as xo,P as Ie,R as pt,S as zo,T as Po,U as Ao,V as ut,W as Ge,X as Io,_ as Oo,Y as Eo,Z as Mt,$ as D,a0 as Je,a1 as L,a2 as u,a3 as w,a4 as X,a5 as ct,a6 as Ne,a7 as Rt,a8 as G,a9 as dt,aa as ft,ab as To,ac as ce,ad as Q,ae as vt,af as W,ag as Ht,ah as De,ai as Lo,aj as Fo,ak as Bo,al as Mo}from"./index.fb260048.js";import{Q as mt}from"./QBadge.0bfdfcf5.js";import{Q as Ro}from"./QImg.cd600aa8.js";import{Q as Ho}from"./QChip.eca5c92a.js";import{Q as No,a as Do}from"./QItemSection.960b9af9.js";import{Q as Qo}from"./QItemLabel.a36c09a8.js";import{Q as jo}from"./QMenu.b016944f.js";var Wo=fe({name:"QPageContainer",setup(e,{slots:o}){const{proxy:{$q:i}}=he(),l=yt(tt,de);if(l===de)return console.error("QPageContainer needs to be child of QLayout"),de;Kt(po,!0);const s=_(()=>{const a={};return l.header.space===!0&&(a.paddingTop=`${l.header.size}px`),l.right.space===!0&&(a[`padding${i.lang.rtl===!0?"Left":"Right"}`]=`${l.right.size}px`),l.footer.space===!0&&(a.paddingBottom=`${l.footer.size}px`),l.left.space===!0&&(a[`padding${i.lang.rtl===!0?"Right":"Left"}`]=`${l.left.size}px`),a});return()=>q("div",{class:"q-page-container",style:s.value},Ut(o.default))}});const Ko={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function Uo(){const{props:e,proxy:{$q:o}}=he(),i=yt(tt,de);if(i===de)return console.error("QPageSticky needs to be child of QLayout"),de;const l=_(()=>{const d=e.position;return{top:d.indexOf("top")>-1,right:d.indexOf("right")>-1,bottom:d.indexOf("bottom")>-1,left:d.indexOf("left")>-1,vertical:d==="top"||d==="bottom",horizontal:d==="left"||d==="right"}}),s=_(()=>i.header.offset),a=_(()=>i.right.offset),b=_(()=>i.footer.offset),g=_(()=>i.left.offset),n=_(()=>{let d=0,V=0;const S=l.value,B=o.lang.rtl===!0?-1:1;S.top===!0&&s.value!==0?V=`${s.value}px`:S.bottom===!0&&b.value!==0&&(V=`${-b.value}px`),S.left===!0&&g.value!==0?d=`${B*g.value}px`:S.right===!0&&a.value!==0&&(d=`${-B*a.value}px`);const x={transform:`translate(${d}, ${V})`};return e.offset&&(x.margin=`${e.offset[1]}px ${e.offset[0]}px`),S.vertical===!0?(g.value!==0&&(x[o.lang.rtl===!0?"right":"left"]=`${g.value}px`),a.value!==0&&(x[o.lang.rtl===!0?"left":"right"]=`${a.value}px`)):S.horizontal===!0&&(s.value!==0&&(x.top=`${s.value}px`),b.value!==0&&(x.bottom=`${b.value}px`)),x}),r=_(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function c(d){const V=Ut(d.default);return q("div",{class:r.value,style:n.value},e.expand===!0?V:[q("div",V)])}return{$layout:i,getStickyContent:c}}var Yo=fe({name:"QPageSticky",props:Ko,setup(e,{slots:o}){const{getStickyContent:i}=Uo();return()=>i(o)}});function Xo(){const e=T(!bt.value);return e.value===!1&&Ze(()=>{e.value=!0}),e}const Jt=typeof ResizeObserver!="undefined",Nt=Jt===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var St=fe({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:o}){let i=null,l,s={width:-1,height:-1};function a(n){n===!0||e.debounce===0||e.debounce==="0"?b():i===null&&(i=setTimeout(b,e.debounce))}function b(){if(i!==null&&(clearTimeout(i),i=null),l){const{offsetWidth:n,offsetHeight:r}=l;(n!==s.width||r!==s.height)&&(s={width:n,height:r},o("resize",s))}}const{proxy:g}=he();if(Jt===!0){let n;const r=c=>{l=g.$el.parentNode,l?(n=new ResizeObserver(a),n.observe(l),b()):c!==!0&&ne(()=>{r(!0)})};return Ze(()=>{r()}),Ee(()=>{i!==null&&clearTimeout(i),n!==void 0&&(n.disconnect!==void 0?n.disconnect():l&&n.unobserve(l))}),wt}else{let c=function(){i!==null&&(clearTimeout(i),i=null),r!==void 0&&(r.removeEventListener!==void 0&&r.removeEventListener("resize",a,gt.passive),r=void 0)},d=function(){c(),l&&l.contentDocument&&(r=l.contentDocument.defaultView,r.addEventListener("resize",a,gt.passive),b())};const n=Xo();let r;return Ze(()=>{ne(()=>{l=g.$el,l&&d()})}),Ee(c),g.trigger=a,()=>{if(n.value===!0)return q("object",{style:Nt.style,tabindex:-1,type:"text/html",data:Nt.url,"aria-hidden":"true",onLoad:d})}}}}),Go=fe({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:o,emit:i}){const{proxy:{$q:l}}=he(),s=yt(tt,de);if(s===de)return console.error("QFooter needs to be child of QLayout"),de;const a=T(parseInt(e.heightHint,10)),b=T(!0),g=T(bt.value===!0||s.isContainer.value===!0?0:window.innerHeight),n=_(()=>e.reveal===!0||s.view.value.indexOf("F")>-1||l.platform.is.ios&&s.isContainer.value===!0),r=_(()=>s.isContainer.value===!0?s.containerHeight.value:g.value),c=_(()=>{if(e.modelValue!==!0)return 0;if(n.value===!0)return b.value===!0?a.value:0;const f=s.scroll.value.position+r.value+a.value-s.height.value;return f>0?f:0}),d=_(()=>e.modelValue!==!0||n.value===!0&&b.value!==!0),V=_(()=>e.modelValue===!0&&d.value===!0&&e.reveal===!0),S=_(()=>"q-footer q-layout__section--marginal "+(n.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(d.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(n.value!==!0?" hidden":""):"")),B=_(()=>{const f=s.rows.value.bottom,I={};return f[0]==="l"&&s.left.space===!0&&(I[l.lang.rtl===!0?"right":"left"]=`${s.left.size}px`),f[2]==="r"&&s.right.space===!0&&(I[l.lang.rtl===!0?"left":"right"]=`${s.right.size}px`),I});function x(f,I){s.update("footer",f,I)}function H(f,I){f.value!==I&&(f.value=I)}function U({height:f}){H(a,f),x("size",f)}function M(){if(e.reveal!==!0)return;const{direction:f,position:I,inflectionPoint:J}=s.scroll.value;H(b,f==="up"||I-J<100||s.height.value-r.value-I-a.value<300)}function k(f){V.value===!0&&H(b,!0),i("focusin",f)}ee(()=>e.modelValue,f=>{x("space",f),H(b,!0),s.animate()}),ee(c,f=>{x("offset",f)}),ee(()=>e.reveal,f=>{f===!1&&H(b,e.modelValue)}),ee(b,f=>{s.animate(),i("reveal",f)}),ee([a,s.scroll,s.height],M),ee(()=>l.screen.height,f=>{s.isContainer.value!==!0&&H(g,f)});const y={};return s.instances.footer=y,e.modelValue===!0&&x("size",a.value),x("space",e.modelValue),x("offset",c.value),Ee(()=>{s.instances.footer===y&&(s.instances.footer=void 0,x("size",0),x("offset",0),x("space",!1))}),()=>{const f=kt(o.default,[q(St,{debounce:0,onResize:U})]);return e.elevated===!0&&f.push(q("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),q("footer",{class:S.value,style:B.value,onFocusin:k},f)}}});const Jo=q("div",{class:"q-space"});var Zo=fe({name:"QSpace",setup(){return()=>Jo}}),el=fe({name:"QField",inheritAttrs:!1,props:_t,emits:Yt,setup(){return Xt(Gt())}});let et=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const o=document.createElement("div");Object.assign(o.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(o),e.scrollLeft=-1e3,et=e.scrollLeft>=0,e.remove()}const ae=1e3,tl=["start","center","end","start-force","center-force","end-force"],Zt=Array.prototype.filter,ol=window.getComputedStyle(document.body).overflowAnchor===void 0?wt:function(e,o){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const i=e.children||[];Zt.call(i,s=>s.dataset&&s.dataset.qVsAnchor!==void 0).forEach(s=>{delete s.dataset.qVsAnchor});const l=i[o];l&&l.dataset&&(l.dataset.qVsAnchor="")}))};function Oe(e,o){return e+o}function ht(e,o,i,l,s,a,b,g){const n=e===window?document.scrollingElement||document.documentElement:e,r=s===!0?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-b-g,scrollMaxSize:0,offsetStart:-b,offsetEnd:-g};if(s===!0?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=n.scrollLeft,c.scrollViewSize+=n.clientWidth),c.scrollMaxSize=n.scrollWidth,a===!0&&(c.scrollStart=(et===!0?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=n.scrollTop,c.scrollViewSize+=n.clientHeight),c.scrollMaxSize=n.scrollHeight),i!==null)for(let d=i.previousElementSibling;d!==null;d=d.previousElementSibling)d.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetStart+=d[r]);if(l!==null)for(let d=l.nextElementSibling;d!==null;d=d.nextElementSibling)d.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetEnd+=d[r]);if(o!==e){const d=n.getBoundingClientRect(),V=o.getBoundingClientRect();s===!0?(c.offsetStart+=V.left-d.left,c.offsetEnd-=V.width):(c.offsetStart+=V.top-d.top,c.offsetEnd-=V.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function Dt(e,o,i,l){o==="end"&&(o=(e===window?document.body:e)[i===!0?"scrollWidth":"scrollHeight"]),e===window?i===!0?(l===!0&&(o=(et===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-o),window.scrollTo(o,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,o):i===!0?(l===!0&&(o=(et===!0?e.scrollWidth-e.offsetWidth:0)-o),e.scrollLeft=o):e.scrollTop=o}function Qe(e,o,i,l){if(i>=l)return 0;const s=o.length,a=Math.floor(i/ae),b=Math.floor((l-1)/ae)+1;let g=e.slice(a,b).reduce(Oe,0);return i%ae!==0&&(g-=o.slice(a*ae,i).reduce(Oe,0)),l%ae!==0&&l!==s&&(g-=o.slice(l,b*ae).reduce(Oe,0)),g}const ll={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},il={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...ll};function nl({virtualScrollLength:e,getVirtualScrollTarget:o,getVirtualScrollEl:i,virtualScrollItemSizeComputed:l}){const s=he(),{props:a,emit:b,proxy:g}=s,{$q:n}=g;let r,c,d,V=[],S;const B=T(0),x=T(0),H=T({}),U=T(null),M=T(null),k=T(null),y=T({from:0,to:0}),f=_(()=>a.tableColspan!==void 0?a.tableColspan:100);l===void 0&&(l=_(()=>a.virtualScrollItemSize));const I=_(()=>l.value+";"+a.virtualScrollHorizontal),J=_(()=>I.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter);ee(J,()=>{me()}),ee(I,se);function se(){pe(c,!0)}function ve(h){pe(h===void 0?c:h)}function ge(h,C){const z=o();if(z==null||z.nodeType===8)return;const R=ht(z,i(),U.value,M.value,a.virtualScrollHorizontal,n.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);d!==R.scrollViewSize&&me(R.scrollViewSize),we(z,R,Math.min(e.value-1,Math.max(0,parseInt(h,10)||0)),0,tl.indexOf(C)>-1?C:c>-1&&h>c?"end":"start")}function re(){const h=o();if(h==null||h.nodeType===8)return;const C=ht(h,i(),U.value,M.value,a.virtualScrollHorizontal,n.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),z=e.value-1,R=C.scrollMaxSize-C.offsetStart-C.offsetEnd-x.value;if(r===C.scrollStart)return;if(C.scrollMaxSize<=0){we(h,C,0,0);return}d!==C.scrollViewSize&&me(C.scrollViewSize),Te(y.value.from);const j=Math.floor(C.scrollMaxSize-Math.max(C.scrollViewSize,C.offsetEnd)-Math.min(S[z],C.scrollViewSize/2));if(j>0&&Math.ceil(C.scrollStart)>=j){we(h,C,z,C.scrollMaxSize-C.offsetEnd-V.reduce(Oe,0));return}let O=0,P=C.scrollStart-C.offsetStart,Y=P;if(P<=R&&P+C.scrollViewSize>=B.value)P-=B.value,O=y.value.from,Y=P;else for(let A=0;P>=V[A]&&O<z;A++)P-=V[A],O+=ae;for(;P>0&&O<z;)P-=S[O],P>-C.scrollViewSize?(O++,Y=P):Y=S[O]+P;we(h,C,O,Y)}function we(h,C,z,R,j){const O=typeof j=="string"&&j.indexOf("-force")>-1,P=O===!0?j.replace("-force",""):j,Y=P!==void 0?P:"start";let A=Math.max(0,z-H.value[Y]),te=A+H.value.total;te>e.value&&(te=e.value,A=Math.max(0,te-H.value.total)),r=C.scrollStart;const _e=A!==y.value.from||te!==y.value.to;if(_e===!1&&P===void 0){Fe(z);return}const{activeElement:Be}=document,ue=k.value;_e===!0&&ue!==null&&ue!==Be&&ue.contains(Be)===!0&&(ue.addEventListener("focusout",Le),setTimeout(()=>{ue!==null&&ue.removeEventListener("focusout",Le)})),ol(ue,z-A);const We=P!==void 0?S.slice(A,z).reduce(Oe,0):0;if(_e===!0){const Se=te>=y.value.from&&A<=y.value.to?y.value.to:te;y.value={from:A,to:Se},B.value=Qe(V,S,0,A),x.value=Qe(V,S,te,e.value),requestAnimationFrame(()=>{y.value.to!==te&&r===C.scrollStart&&(y.value={from:y.value.from,to:te},x.value=Qe(V,S,te,e.value))})}requestAnimationFrame(()=>{if(r!==C.scrollStart)return;_e===!0&&Te(A);const Se=S.slice(A,z).reduce(Oe,0),Ce=Se+C.offsetStart+B.value,Ke=Ce+S[z];let Me=Ce+R;if(P!==void 0){const ot=Se-We,oe=C.scrollStart+ot;Me=O!==!0&&oe<Ce&&Ke<oe+C.scrollViewSize?oe:P==="end"?Ke-C.scrollViewSize:Ce-(P==="start"?0:Math.round((C.scrollViewSize-S[z])/2))}r=Me,Dt(h,Me,a.virtualScrollHorizontal,n.lang.rtl),Fe(z)})}function Te(h){const C=k.value;if(C){const z=Zt.call(C.children,A=>A.classList&&A.classList.contains("q-virtual-scroll--skip")===!1),R=z.length,j=a.virtualScrollHorizontal===!0?A=>A.getBoundingClientRect().width:A=>A.offsetHeight;let O=h,P,Y;for(let A=0;A<R;){for(P=j(z[A]),A++;A<R&&z[A].classList.contains("q-virtual-scroll--with-prev")===!0;)P+=j(z[A]),A++;Y=P-S[O],Y!==0&&(S[O]+=Y,V[Math.floor(O/ae)]+=Y),O++}}}function Le(){k.value!==null&&k.value!==void 0&&k.value.focus()}function pe(h,C){const z=1*l.value;(C===!0||Array.isArray(S)===!1)&&(S=[]);const R=S.length;S.length=e.value;for(let O=e.value-1;O>=R;O--)S[O]=z;const j=Math.floor((e.value-1)/ae);V=[];for(let O=0;O<=j;O++){let P=0;const Y=Math.min((O+1)*ae,e.value);for(let A=O*ae;A<Y;A++)P+=S[A];V.push(P)}c=-1,r=void 0,B.value=Qe(V,S,0,y.value.from),x.value=Qe(V,S,y.value.to,e.value),h>=0?(Te(y.value.from),ne(()=>{ge(h)})):ke()}function me(h){if(h===void 0&&typeof window!="undefined"){const P=o();P!=null&&P.nodeType!==8&&(h=ht(P,i(),U.value,M.value,a.virtualScrollHorizontal,n.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}d=h;const C=parseFloat(a.virtualScrollSliceRatioBefore)||0,z=parseFloat(a.virtualScrollSliceRatioAfter)||0,R=1+C+z,j=h===void 0||h<=0?1:Math.ceil(h/l.value),O=Math.max(1,j,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/R));H.value={total:Math.ceil(O*R),start:Math.ceil(O*C),center:Math.ceil(O*(.5+C)),end:Math.ceil(O*(1+C)),view:j}}function je(h,C){const z=a.virtualScrollHorizontal===!0?"width":"height",R={["--q-virtual-scroll-item-"+z]:l.value+"px"};return[h==="tbody"?q(h,{class:"q-virtual-scroll__padding",key:"before",ref:U},[q("tr",[q("td",{style:{[z]:`${B.value}px`,...R},colspan:f.value})])]):q(h,{class:"q-virtual-scroll__padding",key:"before",ref:U,style:{[z]:`${B.value}px`,...R}}),q(h,{class:"q-virtual-scroll__content",key:"content",ref:k,tabindex:-1},C.flat()),h==="tbody"?q(h,{class:"q-virtual-scroll__padding",key:"after",ref:M},[q("tr",[q("td",{style:{[z]:`${x.value}px`,...R},colspan:f.value})])]):q(h,{class:"q-virtual-scroll__padding",key:"after",ref:M,style:{[z]:`${x.value}px`,...R}})]}function Fe(h){c!==h&&(a.onVirtualScroll!==void 0&&b("virtualScroll",{index:h,from:y.value.from,to:y.value.to-1,direction:h<c?"decrease":"increase",ref:g}),c=h)}me();const ke=So(re,n.platform.is.ios===!0?120:35);yo(()=>{me()});let p=!1;return bo(()=>{p=!0}),wo(()=>{if(p!==!0)return;const h=o();r!==void 0&&h!==void 0&&h!==null&&h.nodeType!==8?Dt(h,r,a.virtualScrollHorizontal,n.lang.rtl):ge(c)}),Ee(()=>{ke.cancel()}),Object.assign(g,{scrollTo:ge,reset:se,refresh:ve}),{virtualScrollSliceRange:y,virtualScrollSliceSizeComputed:H,setVirtualScrollSize:me,onVirtualScrollEvt:ke,localResetVirtualScroll:pe,padVirtualScroll:je,scrollTo:ge,reset:se,refresh:ve}}function Qt(e,o,i){if(i<=o)return o;const l=i-o+1;let s=o+(e-o)%l;return s<o&&(s=l+s),s===0?0:s}const jt=e=>["add","add-unique","toggle"].includes(e),al=".*+?^${}()|[]\\",sl=Object.keys(_t);var rl=fe({name:"QSelect",inheritAttrs:!1,props:{...il,...ko,..._t,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:jt},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Yt,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:o,emit:i}){const{proxy:l}=he(),{$q:s}=l,a=T(!1),b=T(!1),g=T(-1),n=T(""),r=T(!1),c=T(!1);let d=null,V,S,B,x=null,H,U,M,k;const y=T(null),f=T(null),I=T(null),J=T(null),se=T(null),ve=_o(e),ge=$o(Ot),re=_(()=>Array.isArray(e.options)?e.options.length:0),we=_(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Te,virtualScrollSliceSizeComputed:Le,localResetVirtualScroll:pe,padVirtualScroll:me,onVirtualScrollEvt:je,scrollTo:Fe,setVirtualScrollSize:ke}=nl({virtualScrollLength:re,getVirtualScrollTarget:lo,getVirtualScrollEl:At,virtualScrollItemSizeComputed:we}),p=Gt(),h=_(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,m=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const v=e.mapOptions===!0&&V!==void 0?V:[],$=m.map(F=>oo(F,v));return e.modelValue===null&&t===!0?$.filter(F=>F!==null):$}return m}),C=_(()=>{const t={};return sl.forEach(m=>{const v=e[m];v!==void 0&&(t[m]=v)}),t}),z=_(()=>e.optionsDark===null?p.isDark.value:e.optionsDark),R=_(()=>Bt(h.value)),j=_(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||h.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),O=_(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),P=_(()=>re.value===0),Y=_(()=>h.value.map(t=>le.value(t)).join(", ")),A=_(()=>e.displayValue!==void 0?e.displayValue:Y.value),te=_(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),_e=_(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||h.value.some(te.value))),Be=_(()=>p.focused.value===!0?e.tabindex:-1),ue=_(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-controls":`${p.targetUid.value}_lb`};return g.value>=0&&(t["aria-activedescendant"]=`${p.targetUid.value}_${g.value}`),t}),We=_(()=>({id:`${p.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Se=_(()=>h.value.map((t,m)=>({index:m,opt:t,html:te.value(t),selected:!0,removeAtIndex:to,toggleOption:ye,tabindex:Be.value}))),Ce=_(()=>{if(re.value===0)return[];const{from:t,to:m}=Te.value;return e.options.slice(t,m).map((v,$)=>{const F=Ve.value(v)===!0,E=t+$,N={clickable:!0,active:!1,activeClass:ot.value,manualFocus:!0,focused:!1,disable:F,tabindex:-1,dense:e.optionsDense,dark:z.value,role:"option",id:`${p.targetUid.value}_${E}`,onClick:()=>{ye(v)}};return F!==!0&&(nt(v)===!0&&(N.active=!0),g.value===E&&(N.focused=!0),N["aria-selected"]=N.active===!0?"true":"false",s.platform.is.desktop===!0&&(N.onMousemove=()=>{a.value===!0&&$e(E)})),{index:E,opt:v,html:te.value(v),label:le.value(v),selected:N.active,focused:N.focused,toggleOption:ye,setOptionIndex:$e,itemProps:N}})}),Ke=_(()=>e.dropdownIcon!==void 0?e.dropdownIcon:s.iconSet.arrow.dropdown),Me=_(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ot=_(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),oe=_(()=>it(e.optionValue,"value")),le=_(()=>it(e.optionLabel,"label")),Ve=_(()=>it(e.optionDisable,"disable")),Ue=_(()=>h.value.map(t=>oe.value(t))),eo=_(()=>{const t={onInput:Ot,onChange:ge,onKeydown:Pt,onKeyup:xt,onKeypress:zt,onFocus:$t,onClick(m){S===!0&&Ae(m)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=ge,t});ee(h,t=>{V=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&p.innerLoading.value!==!0&&(b.value!==!0&&a.value!==!0||R.value!==!0)&&(B!==!0&&Pe(),(b.value===!0||a.value===!0)&&qe(""))},{immediate:!0}),ee(()=>e.fillInput,Pe),ee(a,at),ee(re,go);function Ct(t){return e.emitValue===!0?oe.value(t):t}function lt(t){if(t>-1&&t<h.value.length)if(e.multiple===!0){const m=e.modelValue.slice();i("remove",{index:t,value:m.splice(t,1)[0]}),i("update:modelValue",m)}else i("update:modelValue",null)}function to(t){lt(t),p.focus()}function Vt(t,m){const v=Ct(t);if(e.multiple!==!0){e.fillInput===!0&&Re(le.value(t),!0,!0),i("update:modelValue",v);return}if(h.value.length===0){i("add",{index:0,value:v}),i("update:modelValue",e.multiple===!0?[v]:v);return}if(m===!0&&nt(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const $=e.modelValue.slice();i("add",{index:$.length,value:v}),$.push(v),i("update:modelValue",$)}function ye(t,m){if(p.editable.value!==!0||t===void 0||Ve.value(t)===!0)return;const v=oe.value(t);if(e.multiple!==!0){m!==!0&&(Re(e.fillInput===!0?le.value(t):"",!0,!0),be()),f.value!==null&&f.value.focus(),(h.value.length===0||He(oe.value(h.value[0]),v)!==!0)&&i("update:modelValue",e.emitValue===!0?v:t);return}if((S!==!0||r.value===!0)&&p.focus(),$t(),h.value.length===0){const E=e.emitValue===!0?v:t;i("add",{index:0,value:E}),i("update:modelValue",e.multiple===!0?[E]:E);return}const $=e.modelValue.slice(),F=Ue.value.findIndex(E=>He(E,v));if(F>-1)i("remove",{index:F,value:$.splice(F,1)[0]});else{if(e.maxValues!==void 0&&$.length>=e.maxValues)return;const E=e.emitValue===!0?v:t;i("add",{index:$.length,value:E}),$.push(E)}i("update:modelValue",$)}function $e(t){if(s.platform.is.desktop!==!0)return;const m=t>-1&&t<re.value?t:-1;g.value!==m&&(g.value=m)}function Ye(t=1,m){if(a.value===!0){let v=g.value;do v=Qt(v+t,-1,re.value-1);while(v!==-1&&v!==g.value&&Ve.value(e.options[v])===!0);g.value!==v&&($e(v),Fe(v),m!==!0&&e.useInput===!0&&e.fillInput===!0&&Xe(v>=0?le.value(e.options[v]):H))}}function oo(t,m){const v=$=>He(oe.value($),t);return e.options.find(v)||m.find(v)||t}function it(t,m){const v=t!==void 0?t:m;return typeof v=="function"?v:$=>$!==null&&typeof $=="object"&&v in $?$[v]:$}function nt(t){const m=oe.value(t);return Ue.value.find(v=>He(v,m))!==void 0}function $t(t){e.useInput===!0&&f.value!==null&&(t===void 0||f.value===t.target&&t.target.value===Y.value)&&f.value.select()}function qt(t){qo(t,27)===!0&&a.value===!0&&(Ae(t),be(),Pe()),i("keyup",t)}function xt(t){const{value:m}=t.target;if(t.keyCode!==void 0){qt(t);return}if(t.target.value="",d!==null&&(clearTimeout(d),d=null),Pe(),typeof m=="string"&&m.length!==0){const v=m.toLocaleLowerCase(),$=E=>{const N=e.options.find(Z=>E.value(Z).toLocaleLowerCase()===v);return N===void 0?!1:(h.value.indexOf(N)===-1?ye(N):be(),!0)},F=E=>{$(oe)!==!0&&($(le)===!0||E===!0||qe(m,!0,()=>F(!0)))};F()}else p.clearValue(t)}function zt(t){i("keypress",t)}function Pt(t){if(i("keydown",t),xo(t)===!0)return;const m=n.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),v=t.shiftKey!==!0&&e.multiple!==!0&&(g.value>-1||m===!0);if(t.keyCode===27){rt(t);return}if(t.keyCode===9&&v===!1){xe();return}if(t.target===void 0||t.target.id!==p.targetUid.value||p.editable.value!==!0)return;if(t.keyCode===40&&p.innerLoading.value!==!0&&a.value===!1){Ie(t),ze();return}if(t.keyCode===8&&e.hideSelected!==!0&&n.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?lt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&i("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof n.value!="string"||n.value.length===0)&&(Ie(t),g.value=-1,Ye(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&Le.value!==void 0&&(Ie(t),g.value=Math.max(-1,Math.min(re.value,g.value+(t.keyCode===33?-1:1)*Le.value.view)),Ye(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(Ie(t),Ye(t.keyCode===38?-1:1,e.multiple));const $=re.value;if((M===void 0||k<Date.now())&&(M=""),$>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||M.length!==0)){a.value!==!0&&ze(t);const F=t.key.toLocaleLowerCase(),E=M.length===1&&M[0]===F;k=Date.now()+1500,E===!1&&(Ie(t),M+=F);const N=new RegExp("^"+M.split("").map(st=>al.indexOf(st)>-1?"\\"+st:st).join(".*"),"i");let Z=g.value;if(E===!0||Z<0||N.test(le.value(e.options[Z]))!==!0)do Z=Qt(Z+1,-1,$-1);while(Z!==g.value&&(Ve.value(e.options[Z])===!0||N.test(le.value(e.options[Z]))!==!0));g.value!==Z&&ne(()=>{$e(Z),Fe(Z),Z>=0&&e.useInput===!0&&e.fillInput===!0&&Xe(le.value(e.options[Z]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||M!=="")&&(t.keyCode!==9||v===!1))){if(t.keyCode!==9&&Ie(t),g.value>-1&&g.value<$){ye(e.options[g.value]);return}if(m===!0){const F=(E,N)=>{if(N){if(jt(N)!==!0)return}else N=e.newValueMode;if(E==null)return;Re("",e.multiple!==!0,!0),(N==="toggle"?ye:Vt)(E,N==="add-unique"),e.multiple!==!0&&(f.value!==null&&f.value.focus(),be())};if(e.onNewValue!==void 0?i("newValue",n.value,F):F(n.value),e.multiple!==!0)return}a.value===!0?xe():p.innerLoading.value!==!0&&ze()}}function At(){return S===!0?se.value:I.value!==null&&I.value.contentEl!==null?I.value.contentEl:void 0}function lo(){return At()}function io(){return e.hideSelected===!0?[]:o["selected-item"]!==void 0?Se.value.map(t=>o["selected-item"](t)).slice():o.selected!==void 0?[].concat(o.selected()):e.useChips===!0?Se.value.map((t,m)=>q(Ho,{key:"option-"+m,removable:p.editable.value===!0&&Ve.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:Be.value,onRemove(){t.removeAtIndex(m)}},()=>q("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:le.value(t.opt)}))):[q("span",{[_e.value===!0?"innerHTML":"textContent"]:A.value})]}function It(){if(P.value===!0)return o["no-option"]!==void 0?o["no-option"]({inputValue:n.value}):void 0;const t=o.option!==void 0?o.option:v=>q(Do,{key:v.index,...v.itemProps},()=>q(No,()=>q(Qo,()=>q("span",{[v.html===!0?"innerHTML":"textContent"]:v.label}))));let m=me("div",Ce.value.map(t));return o["before-options"]!==void 0&&(m=o["before-options"]().concat(m)),kt(o["after-options"],m)}function no(t,m){const v=m===!0?{...ue.value,...p.splitAttrs.attributes.value}:void 0,$={ref:m===!0?f:void 0,key:"i_t",class:j.value,style:e.inputStyle,value:n.value!==void 0?n.value:"",type:"search",...v,id:m===!0?p.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...eo.value};return t!==!0&&S===!0&&(Array.isArray($.class)===!0?$.class=[...$.class,"no-pointer-events"]:$.class+=" no-pointer-events"),q("input",$)}function Ot(t){d!==null&&(clearTimeout(d),d=null),!(t&&t.target&&t.target.qComposing===!0)&&(Xe(t.target.value||""),B=!0,H=n.value,p.focused.value!==!0&&(S!==!0||r.value===!0)&&p.focus(),e.onFilter!==void 0&&(d=setTimeout(()=>{d=null,qe(n.value)},e.inputDebounce)))}function Xe(t){n.value!==t&&(n.value=t,i("inputValue",t))}function Re(t,m,v){B=v!==!0,e.useInput===!0&&(Xe(t),(m===!0||v!==!0)&&(H=t),m!==!0&&qe(t))}function qe(t,m,v){if(e.onFilter===void 0||m!==!0&&p.focused.value!==!0)return;p.innerLoading.value===!0?i("filterAbort"):(p.innerLoading.value=!0,c.value=!0),t!==""&&e.multiple!==!0&&h.value.length!==0&&B!==!0&&t===le.value(h.value[0])&&(t="");const $=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);x!==null&&clearTimeout(x),x=$,i("filter",t,(F,E)=>{(m===!0||p.focused.value===!0)&&x===$&&(clearTimeout(x),typeof F=="function"&&F(),c.value=!1,ne(()=>{p.innerLoading.value=!1,p.editable.value===!0&&(m===!0?a.value===!0&&be():a.value===!0?at(!0):a.value=!0),typeof E=="function"&&ne(()=>{E(l)}),typeof v=="function"&&ne(()=>{v(l)})}))},()=>{p.focused.value===!0&&x===$&&(clearTimeout(x),p.innerLoading.value=!1,c.value=!1),a.value===!0&&(a.value=!1)})}function ao(){return q(jo,{ref:I,class:O.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&P.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:z.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Me.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...We.value,onScrollPassive:je,onBeforeShow:Tt,onBeforeHide:so,onShow:ro},It)}function so(t){Lt(t),xe()}function ro(){ke()}function uo(t){Ae(t),f.value!==null&&f.value.focus(),r.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function co(t){Ae(t),ne(()=>{r.value=!1})}function fo(){const t=[q(el,{class:`col-auto ${p.fieldClass.value}`,...C.value,for:p.targetUid.value,dark:z.value,square:!0,loading:c.value,itemAligned:!1,filled:!0,stackLabel:n.value.length!==0,...p.splitAttrs.listeners.value,onFocus:uo,onBlur:co},{...o,rawControl:()=>p.getControl(!0),before:void 0,after:void 0})];return a.value===!0&&t.push(q("div",{ref:se,class:O.value+" scroll",style:e.popupContentStyle,...We.value,onClick:rt,onScrollPassive:je},It())),q(pt,{ref:J,modelValue:b.value,position:e.useInput===!0?"top":void 0,transitionShow:U,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:Tt,onBeforeHide:vo,onHide:mo,onShow:ho},()=>q("div",{class:"q-select__dialog"+(z.value===!0?" q-select__dialog--dark q-dark":"")+(r.value===!0?" q-select__dialog--focused":"")},t))}function vo(t){Lt(t),J.value!==null&&J.value.__updateRefocusTarget(p.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),p.focused.value=!1}function mo(t){be(),p.focused.value===!1&&i("blur",t),Pe()}function ho(){const t=document.activeElement;(t===null||t.id!==p.targetUid.value)&&f.value!==null&&f.value!==t&&f.value.focus(),ke()}function xe(){b.value!==!0&&(g.value=-1,a.value===!0&&(a.value=!1),p.focused.value===!1&&(x!==null&&(clearTimeout(x),x=null),p.innerLoading.value===!0&&(i("filterAbort"),p.innerLoading.value=!1,c.value=!1)))}function ze(t){p.editable.value===!0&&(S===!0?(p.onControlFocusin(t),b.value=!0,ne(()=>{p.focus()})):p.focus(),e.onFilter!==void 0?qe(n.value):(P.value!==!0||o["no-option"]!==void 0)&&(a.value=!0))}function be(){b.value=!1,xe()}function Pe(){e.useInput===!0&&Re(e.multiple!==!0&&e.fillInput===!0&&h.value.length!==0&&le.value(h.value[0])||"",!0,!0)}function at(t){let m=-1;if(t===!0){if(h.value.length!==0){const v=oe.value(h.value[0]);m=e.options.findIndex($=>He(oe.value($),v))}pe(m)}$e(m)}function go(t,m){a.value===!0&&p.innerLoading.value===!1&&(pe(-1,!0),ne(()=>{a.value===!0&&p.innerLoading.value===!1&&(t>m?pe():at(!0))}))}function Et(){b.value===!1&&I.value!==null&&I.value.updatePosition()}function Tt(t){t!==void 0&&Ae(t),i("popupShow",t),p.hasPopupOpen=!0,p.onControlFocusin(t)}function Lt(t){t!==void 0&&Ae(t),i("popupHide",t),p.hasPopupOpen=!1,p.onControlFocusout(t)}function Ft(){S=s.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?o["no-option"]!==void 0||e.onFilter!==void 0||P.value===!1:!0),U=s.platform.is.ios===!0&&S===!0&&e.useInput===!0?"fade":e.transitionShow}return Co(Ft),Vo(Et),Ft(),Ee(()=>{d!==null&&clearTimeout(d)}),Object.assign(l,{showPopup:ze,hidePopup:be,removeAtIndex:lt,add:Vt,toggleOption:ye,getOptionIndex:()=>g.value,setOptionIndex:$e,moveOptionSelection:Ye,filter:qe,updateMenuPosition:Et,updateInputValue:Re,isOptionSelected:nt,getEmittingOptionValue:Ct,isOptionDisabled:(...t)=>Ve.value.apply(null,t)===!0,getOptionValue:(...t)=>oe.value.apply(null,t),getOptionLabel:(...t)=>le.value.apply(null,t)}),Object.assign(p,{innerValue:h,fieldClass:_(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:y,targetRef:f,hasValue:R,showPopup:ze,floatingLabel:_(()=>e.hideSelected!==!0&&R.value===!0||typeof n.value=="number"||n.value.length!==0||Bt(e.displayValue)),getControlChild:()=>{if(p.editable.value!==!1&&(b.value===!0||P.value!==!0||o["no-option"]!==void 0))return S===!0?fo():ao();p.hasPopupOpen===!0&&(p.hasPopupOpen=!1)},controlEvents:{onFocusin(t){p.onControlFocusin(t)},onFocusout(t){p.onControlFocusout(t,()=>{Pe(),xe()})},onClick(t){if(rt(t),S!==!0&&a.value===!0){xe(),f.value!==null&&f.value.focus();return}ze(t)}},getControl:t=>{const m=io(),v=t===!0||b.value!==!0||S!==!0;if(e.useInput===!0)m.push(no(t,v));else if(p.editable.value===!0){const F=v===!0?ue.value:void 0;m.push(q("input",{ref:v===!0?f:void 0,key:"d_t",class:"q-select__focus-target",id:v===!0?p.targetUid.value:void 0,value:A.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...F,onKeydown:Pt,onKeyup:qt,onKeypress:zt})),v===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&m.push(q("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:xt}))}if(ve.value!==void 0&&e.disable!==!0&&Ue.value.length!==0){const F=Ue.value.map(E=>q("option",{value:E,selected:!0}));m.push(q("select",{class:"hidden",name:ve.value,multiple:e.multiple},F))}const $=e.useInput===!0||v!==!0?void 0:p.splitAttrs.attributes.value;return q("div",{class:"q-field__native row items-center",...$,...p.splitAttrs.listeners.value},m)},getInnerAppend:()=>e.loading!==!0&&c.value!==!0&&e.hideDropdownIcon!==!0?[q(ie,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:Ke.value})]:null}),Xt(p)}});const{passive:Wt}=gt,ul=["both","horizontal","vertical"];var cl=fe({name:"QScrollObserver",props:{axis:{type:String,validator:e=>ul.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:o}){const i={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let l=null,s,a;ee(()=>e.scrollTarget,()=>{n(),g()});function b(){l!==null&&l();const d=Math.max(0,Po(s)),V=Ao(s),S={top:d-i.position.top,left:V-i.position.left};if(e.axis==="vertical"&&S.top===0||e.axis==="horizontal"&&S.left===0)return;const B=Math.abs(S.top)>=Math.abs(S.left)?S.top<0?"up":"down":S.left<0?"left":"right";i.position={top:d,left:V},i.directionChanged=i.direction!==B,i.delta=S,i.directionChanged===!0&&(i.direction=B,i.inflectionPoint=i.position),o("scroll",{...i})}function g(){s=zo(a,e.scrollTarget),s.addEventListener("scroll",r,Wt),r(!0)}function n(){s!==void 0&&(s.removeEventListener("scroll",r,Wt),s=void 0)}function r(d){if(d===!0||e.debounce===0||e.debounce==="0")b();else if(l===null){const[V,S]=e.debounce?[setTimeout(b,e.debounce),clearTimeout]:[requestAnimationFrame(b),cancelAnimationFrame];l=()=>{S(V),l=null}}}const{proxy:c}=he();return ee(()=>c.$q.lang.rtl,b),Ze(()=>{a=c.$el.parentNode,g()}),Ee(()=>{l!==null&&l(),n()}),Object.assign(c,{trigger:r,getPosition:()=>i}),wt}}),dl=fe({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:o,emit:i}){const{proxy:{$q:l}}=he(),s=T(null),a=T(l.screen.height),b=T(e.container===!0?0:l.screen.width),g=T({position:0,direction:"down",inflectionPoint:0}),n=T(0),r=T(bt.value===!0?0:ut()),c=_(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),d=_(()=>e.container===!1?{minHeight:l.screen.height+"px"}:null),V=_(()=>r.value!==0?{[l.lang.rtl===!0?"left":"right"]:`${r.value}px`}:null),S=_(()=>r.value!==0?{[l.lang.rtl===!0?"right":"left"]:0,[l.lang.rtl===!0?"left":"right"]:`-${r.value}px`,width:`calc(100% + ${r.value}px)`}:null);function B(y){if(e.container===!0||document.qScrollPrevented!==!0){const f={position:y.position.top,direction:y.direction,directionChanged:y.directionChanged,inflectionPoint:y.inflectionPoint.top,delta:y.delta.top};g.value=f,e.onScroll!==void 0&&i("scroll",f)}}function x(y){const{height:f,width:I}=y;let J=!1;a.value!==f&&(J=!0,a.value=f,e.onScrollHeight!==void 0&&i("scrollHeight",f),U()),b.value!==I&&(J=!0,b.value=I),J===!0&&e.onResize!==void 0&&i("resize",y)}function H({height:y}){n.value!==y&&(n.value=y,U())}function U(){if(e.container===!0){const y=a.value>n.value?ut():0;r.value!==y&&(r.value=y)}}let M=null;const k={instances:{},view:_(()=>e.view),isContainer:_(()=>e.container),rootRef:s,height:a,containerHeight:n,scrollbarWidth:r,totalWidth:_(()=>b.value+r.value),rows:_(()=>{const y=e.view.toLowerCase().split(" ");return{top:y[0].split(""),middle:y[1].split(""),bottom:y[2].split("")}}),header:Ge({size:0,offset:0,space:!1}),right:Ge({size:300,offset:0,space:!1}),footer:Ge({size:0,offset:0,space:!1}),left:Ge({size:300,offset:0,space:!1}),scroll:g,animate(){M!==null?clearTimeout(M):document.body.classList.add("q-body--layout-animate"),M=setTimeout(()=>{M=null,document.body.classList.remove("q-body--layout-animate")},155)},update(y,f,I){k[y][f]=I}};if(Kt(tt,k),ut()>0){let I=function(){y=null,f.classList.remove("hide-scrollbar")},J=function(){if(y===null){if(f.scrollHeight>l.screen.height)return;f.classList.add("hide-scrollbar")}else clearTimeout(y);y=setTimeout(I,300)},se=function(ve){y!==null&&ve==="remove"&&(clearTimeout(y),I()),window[`${ve}EventListener`]("resize",J)},y=null;const f=document.body;ee(()=>e.container!==!0?"add":"remove",se),e.container!==!0&&se("add"),Io(()=>{se("remove")})}return()=>{const y=kt(o.default,[q(cl,{onScroll:B}),q(St,{onResize:x})]),f=q("div",{class:c.value,style:d.value,ref:e.container===!0?void 0:s,tabindex:-1},y);return e.container===!0?q("div",{class:"q-layout-container overflow-hidden",ref:s},[q(St,{onResize:H}),q("div",{class:"absolute-full",style:V.value},[q("div",{class:"scroll",style:S.value},[f])])]):f}}});const fl=Eo({name:"MainLayout",data(){return{tab:"Inicio",tabs:[{name:"Inicio",label:"Inicio",to:"/"},{name:"Sucursales",label:"Sucursales",to:"/sucursales"}],leftDrawerOpen:!1,carritoDialog:!1,newsletter:"",newsletterOk:!1,search:"",loading:!1,drawer:!1,suggestions:[],showSuggestions:!1,activeIndex:-1,selectedSucursal:null,sucursales:[],validacionStock:{dialog:!1,productosSinStock:[],sucursalSeleccionada:null},panelWidth:0}},computed:{panelStyle(){return{width:this.panelWidth?`${this.panelWidth}px`:"100%"}},subtotal(){var e;return(e=this.$store)!=null&&e.carrito.length?this.$store.carrito.reduce((o,i)=>o+Number(i.precio)*Number(i.cantidad),0):0}},mounted(){this.$nextTick(()=>{this.calcPanelWidth(),window.addEventListener("resize",this.calcPanelWidth,{passive:!0}),document.addEventListener("click",this.handleClickOutside)}),this.getSucursales(),this.$route.hash==="#seccion-categorias"&&this.scrollToCategoriesWithRetry()},beforeUnmount(){window.removeEventListener("resize",this.calcPanelWidth),document.removeEventListener("click",this.handleClickOutside)},watch:{"$route.hash"(e){e==="#seccion-categorias"&&this.scrollToCategoriesWithRetry()}},methods:{suscribir(){!this.newsletter||(this.newsletterOk=!0,setTimeout(()=>{this.newsletter="",this.newsletterOk=!1},2e3))},async pedirCarritoWhatsApp(){if(!this.selectedSucursal){this.$q.notify({type:"warning",message:"Por favor selecciona una sucursal"});return}const e=await this.verificarStockSucursal();if(!!e){if(e.productos_sin_stock&&e.productos_sin_stock.length>0){this.validacionStock.productosSinStock=e.productos_sin_stock,this.validacionStock.sucursalSeleccionada=this.selectedSucursal,this.validacionStock.dialog=!0;return}this.procesarPedidoWhatsApp()}},async eliminarSinStockYEnviar(){const e=this.validacionStock.productosSinStock.map(o=>o.producto_id);if(this.$store.carrito=this.$store.carrito.filter(o=>!e.includes(o.id)),this.validacionStock.dialog=!1,this.$store.carrito.length===0){this.$q.notify({type:"warning",message:"Todos los productos fueron removidos por falta de stock"}),this.carritoDialog=!1;return}await this.procesarPedidoWhatsApp()},cancelarPedido(){this.validacionStock.dialog=!1,this.$q.notify({type:"info",message:"Pedido cancelado"})},editarCantidades(){this.validacionStock.dialog=!1,this.$q.notify({type:"info",message:"Puedes ajustar las cantidades en el carrito",timeout:3e3})},clickCarrito(){this.carritoDialog=!this.carritoDialog},removeCarrito(e){this.$store.carrito.splice(e,1)},incrementarCantidad(e){this.$store.carrito[e].cantidad++},decrementarCantidad(e){this.$store.carrito[e].cantidad>1&&this.$store.carrito[e].cantidad--},async getSucursales(){const{data:e}=await this.$axios.get("sucursales");this.sucursales=(e||[]).map(o=>({...o,cantidad:Number(o.cantidad||0)})),console.log(this.sucursales)},async verificarStockSucursal(){if(!this.selectedSucursal)return this.$q.notify({type:"warning",message:"Por favor selecciona una sucursal"}),null;try{const e=this.$store.carrito.map(i=>({producto_id:i.id,cantidad:i.cantidad})),{data:o}=await this.$axios.post("stock/verificar-sucursal",{sucursal_id:this.selectedSucursal.value,productos:e});return o}catch(e){return console.error("Error verificando stock:",e),this.$q.notify({type:"negative",message:"Error verificando disponibilidad"}),null}},async procesarPedidoWhatsApp(){var b,g,n,r,c,d,V,S,B,x,H,U,M;const e=this.$store.carrito;if(!e||!e.length)return;const o=e.reduce((k,y)=>{const f=Number(y.precio)||0,I=Number(y.cantidad)||0;return k+f*I},0),i={items:e.map(k=>{var y;return{product_id:(y=k.id)!=null?y:null,nombre:k.nombre,precio:Number(k.precio)||0,cantidad:Number(k.cantidad)||0,imagen:k.imagen||null}}),customer:{name:(n=(g=(b=this.$store)==null?void 0:b.cliente)==null?void 0:g.nombre)!=null?n:null,phone:(d=(c=(r=this.$store)==null?void 0:r.cliente)==null?void 0:c.celular)!=null?d:null,address:(B=(S=(V=this.$store)==null?void 0:V.cliente)==null?void 0:S.direccion)!=null?B:null},sucursal_id:this.selectedSucursal.value,sucursal_nombre:this.selectedSucursal.label};let l="";try{const{data:k}=await this.$axios.post("orders",i,{headers:{"Content-Type":"application/json"}});l=(k==null?void 0:k.order_number)||(k==null?void 0:k.orderNumber)||(k==null?void 0:k.numero)||(k==null?void 0:k.numero_pedido)||((x=k==null?void 0:k.order)==null?void 0:x.order_number)||((H=k==null?void 0:k.data)==null?void 0:H.order_number)||""}catch(k){console.error("Error guardando pedido:",{message:k==null?void 0:k.message,status:(U=k==null?void 0:k.response)==null?void 0:U.status,data:(M=k==null?void 0:k.response)==null?void 0:M.data})}let s=l?`\u{1F4E6} *Pedido:* ${l}

`:`\u{1F4E6} *Pedido:* (sin ID, no se pudo registrar)

`;s+=`\u{1F4CD} *Sucursal seleccionada:* ${this.selectedSucursal.label}

`,e.forEach((k,y)=>{const f=Number(k.precio)||0,I=Number(k.cantidad)||0,J=f*I;s+=`${y+1}. *${k.nombre}*
`,s+=`   Cantidad: ${I}
`,s+=`   Precio unitario: Bs. ${this.formatPrice(f)}
`,s+=`   Subtotal: Bs. ${this.formatPrice(J)}

`}),s+=`*=======================*
`,s+=`*RESUMEN DEL PEDIDO:*
`,s+=`\u{1F4E6} Subtotal: Bs. ${this.formatPrice(o)}
`,s+=`\u{1F69A} Env\xEDo: Por Coordinar
`,s+=`\u{1F4B3} *TOTAL: Bs. ${this.formatPrice(o)}*

`,s+="Por favor, confirmen mi pedido. \xA1Gracias! \u{1F60A}";const a=`https://wa.me/59172319869?text=${encodeURIComponent(s)}`;window.open(a,"_blank")},async onType(){const e=this.search.trim();if(e.length<2){this.suggestions=[],this.showSuggestions=!1,this.activeIndex=-1;return}try{const{data:o}=await this.$axios.get("/products/suggest",{params:{q:e,limit:8}});this.suggestions=(o||[]).map(i=>{var g,n,r;const l={...i};l.porcentaje=Number(l.porcentaje||l.descuento||0);const s=Number((g=l.precio)!=null?g:0),a=(r=(n=l.precioAntes)!=null?n:l.precioNormal)!=null?r:null,b=a!==null&&a!==""&&!isNaN(Number(a))?Number(a):null;if(l.porcentaje>0){const c=b&&b>0?b:s;l.precio_antes=c,l.precio_ahora=Number(c*(1-l.porcentaje/100))}else l.precio_antes=b&&b>0?b:null,l.precio_ahora=s;if((!l.porcentaje||l.porcentaje===0)&&l.precio_antes&&l.precio_ahora){const c=l.precio_antes-l.precio_ahora;l.porcentaje=l.precio_antes>0?Math.round(c/l.precio_antes*100):0}return l}),this.activeIndex=this.suggestions.length?0:-1,this.maybeOpen()}catch(o){console.error("Error en sugerencias",o),this.suggestions=[],this.showSuggestions=!1,this.activeIndex=-1}},maybeOpen(){(this.suggestions||[]).length>0&&(this.showSuggestions=!0,this.calcPanelWidth())},onBlur(){setTimeout(()=>{this.showSuggestions=!1},120)},handleClickOutside(e){const o=this.$refs.searchWrap;o&&!o.contains(e.target)&&(this.showSuggestions=!1)},calcPanelWidth(){const e=this.$refs.searchWrap;if(!e)return;const o=e.querySelector(".q-field");this.panelWidth=o?o.getBoundingClientRect().width:e.getBoundingClientRect().width},move(e){if(!this.showSuggestions||!this.suggestions.length)return;const o=this.suggestions.length;this.activeIndex=(this.activeIndex+e+o)%o},enterSelect(){if(!this.showSuggestions||this.activeIndex<0){this.buscar();return}const e=this.suggestions[this.activeIndex];this.selectSuggestion(e)},selectSuggestion(e){this.search=e.title,this.showSuggestions=!1,this.activeIndex=-1,this.$router.push("/detalle-producto/"+e.id+"/"+this.espacioCambioGuion(e.title))},verTodos(){this.buscar()},buscar(){const e=(this.search||"").trim();!e||(this.$router.push({name:"buscar",query:{q:e,page:1}}),this.drawer=!1,this.showSuggestions=!1,this.activeIndex=-1)},toggleDrawer(){this.drawer=!this.drawer},navegarA(e){this.$router.push(e),this.drawer=!1},scrollCategorias(){this.drawer=!1;const e="#seccion-categorias";if(this.$route.path==="/"){this.$route.hash!==e&&this.$router.replace({hash:e}),this.scrollToCategoriesWithRetry();return}this.$router.push({path:"/",hash:e}).then(()=>{this.scrollToCategoriesWithRetry()})},scrollToCategoriesWithRetry(){const e="#seccion-categorias";let o=0;const i=20,l=()=>{const s=document.querySelector(e);if(s){s.scrollIntoView({behavior:"smooth",block:"start"});return}o++<i&&setTimeout(l,100)};ne(()=>l())},formatPrice(e){return Number(e!=null?e:0).toFixed(2)},espacioCambioGuion(e){return e.replace(/ |\/|\./g,"-").replace(/,/g,"")}}}),K=e=>(Bo("data-v-69c004ff"),e=e(),Mo(),e),vl={class:"barra-superior"},ml={class:"search-container",ref:"searchWrap"},hl={key:0,class:"predictive-list"},gl=["onMousedown"],pl=["src"],Sl={class:"predictive-info"},yl={class:"predictive-title"},bl={class:"predictive-prices"},wl={key:0,class:"old"},kl={class:"now"},_l={key:1,class:"badge"},Cl={key:1,class:"predictive-empty"},Vl={class:"predictive-footer"},$l={key:1,class:"menu-navegacion"},ql={class:"footer-top q-pa-lg"},xl={class:"container grid"},zl={class:"col"},Pl=K(()=>u("div",{class:"brand row items-center"},[u("img",{src:"/images/logo.png",alt:"Logo",class:"logo"}),u("div",{class:"q-ml-sm"},[u("div",{class:"text-h6 text-bold"},"Farmacia Santidad Divina"),u("div",{class:"text-subtitle2 opacity-70"},"Precio Solidario")])],-1)),Al=K(()=>u("div",{class:"q-mt-md text-body2 opacity-80"}," Atendemos con \xE9tica y responsabilidad. Encuentra medicamentos, dermocosm\xE9tica y cuidado personal a precios justos. ",-1)),Il={class:"row q-gutter-sm q-mt-md"},Ol={class:"col"},El=K(()=>u("div",{class:"col-title"},"Navegaci\xF3n",-1)),Tl={class:"links"},Ll=K(()=>u("a",{class:"link",href:"tel:+59172319869"},"Ll\xE1manos",-1)),Fl=K(()=>u("a",{class:"link",href:"mailto:contacto@santidad.com"},"farmaciasantidaddivinacentral@gmail.com",-1)),Bl={class:"col"},Ml=K(()=>u("div",{class:"col-title"},"Legales",-1)),Rl={class:"links"},Hl={class:"col"},Nl=K(()=>u("div",{class:"col-title"},"Contacto",-1)),Dl={class:"text-body2 opacity-80"},Ql={class:"row items-center q-gutter-x-sm q-mb-xs"},jl=K(()=>u("span",null,"Oruro, Bolivia",-1)),Wl={class:"row items-center q-gutter-x-sm q-mb-xs"},Kl=K(()=>u("span",null,"Lun-Dom: 08:00\u201310:00",-1)),Ul={class:"row items-center q-gutter-x-sm"},Yl=K(()=>u("a",{class:"link",href:"tel:+59172319869"},"+591 72319869",-1)),Xl={class:"q-mt-md"},Gl={key:0,class:"text-positive text-caption q-mt-xs"},Jl={class:"footer-bottom q-py-sm"},Zl={class:"container row items-center justify-between"},ei={class:"text-caption opacity-70"},ti={class:"row q-gutter-sm"},oi=K(()=>u("a",{class:"link tiny",href:"mailto:legal@santidad.com"},"farmaciasantidaddivinacentral@gmail.com",-1)),li={class:"text-h6 row items-center"},ii={key:0,class:"carrito-vacio text-center q-pa-xl"},ni=K(()=>u("div",{class:"text-h6 text-grey-6 q-mt-md"},"Tu carrito est\xE1 vac\xEDo",-1)),ai=K(()=>u("div",{class:"text-grey-5 q-mt-sm"},"Agrega algunos productos para continuar",-1)),si={key:1,class:"productos-list"},ri={class:"producto-imagen"},ui={class:"producto-info"},ci={class:"producto-nombre"},di={class:"producto-precio"},fi={class:"producto-controls"},vi={class:"cantidad"},mi={class:"producto-total"},hi={class:"subtotal"},gi={class:"resumen-item row justify-between q-mb-sm"},pi=K(()=>u("span",null,"Subtotal:",-1)),Si={class:"text-weight-bold"},yi=K(()=>u("div",{class:"resumen-item row justify-between q-mb-sm"},[u("span",null,"Env\xEDo:"),u("span",{class:"text-positive"},"Por Coordinar")],-1)),bi={class:"total-final row justify-between text-h6"},wi=K(()=>u("span",null,"Total:",-1)),ki={class:"text-weight-bold text-green"},_i={class:"text-h6 row items-center"},Ci={class:"text-subtitle2 q-mb-md"},Vi={class:"productos-sin-stock"},$i={class:"row items-center"},qi={class:"col"},xi={class:"text-weight-bold"},zi={class:"text-caption"},Pi={class:"col-auto"},Ai=K(()=>u("div",{class:"text-caption text-grey-7 q-mt-md"}," \xBFQu\xE9 deseas hacer? ",-1));function Ii(e,o,i,l,s,a){const b=Mt("router-view"),g=Mt("router-link");return D(),Je(dl,{view:"lHh Lpr lff"},{default:L(()=>[u("div",vl,[w(X,{flat:"",round:"",dense:"",icon:"menu",onClick:e.toggleDrawer,size:"md"},null,8,["onClick"]),u("div",ml,[w(Rt,{modelValue:e.search,"onUpdate:modelValue":[o[0]||(o[0]=n=>e.search=n),e.onType],dense:"",outlined:"",rounded:"",placeholder:"Buscar Producto / Palabra Clave",class:"search-input q-ml-sm",debounce:250,onKeyup:ct(Ne(e.enterSelect,["prevent"]),["enter"]),onKeydown:[o[1]||(o[1]=ct(Ne(n=>e.move(1),["prevent"]),["down"])),o[2]||(o[2]=ct(Ne(n=>e.move(-1),["prevent"]),["up"]))],onFocus:e.maybeOpen,onBlur:e.onBlur},{prepend:L(()=>[w(ie,{name:"search"})]),_:1},8,["modelValue","onUpdate:modelValue","onKeyup","onFocus","onBlur"]),w(X,{label:"Buscar",rounded:"","no-caps":"",loading:e.loading,class:"q-ml-sm",onClick:e.buscar},null,8,["loading","onClick"]),e.showSuggestions?(D(),G("div",{key:0,class:"predictive-panel",style:To(e.panelStyle)},[e.suggestions.length?(D(),G("div",hl,[(D(!0),G(dt,null,ft(e.suggestions,(n,r)=>{var c;return D(),G("button",{key:n.id,class:Fo(["predictive-item",{active:r===e.activeIndex}]),onMousedown:Ne(d=>e.selectSuggestion(n),["prevent"]),type:"button"},[u("img",{class:"predictive-thumb",src:`${e.$url}../images/${n.imagen}`,alt:"",onError:o[3]||(o[3]=d=>d.target.src="/images/productDefault.jpg")},null,40,pl),u("div",Sl,[u("div",yl,W(n.title),1),u("div",bl,[n.precio_antes?(D(),G("span",wl,"Bs. "+W(e.formatPrice(n.precio_antes)),1)):ce("",!0),u("span",kl,"Bs. "+W(e.formatPrice((c=n.precio_ahora)!=null?c:n.precio)),1),Number(n.porcentaje)>0?(D(),G("span",_l,"-"+W(n.porcentaje)+"%",1)):ce("",!0)])])],42,gl)}),128))])):(D(),G("div",Cl," No hay resultados ")),u("div",Vl,[u("button",{class:"predictive-seeall",onMousedown:o[4]||(o[4]=Ne((...n)=>e.verTodos&&e.verTodos(...n),["prevent"])),type:"button"}," Ver todos los resultados ",32)])],4)):ce("",!0)],512)]),e.drawer?(D(),G("div",{key:0,class:"overlay-cierra-menu",onClick:o[5]||(o[5]=n=>e.drawer=!1)})):ce("",!0),e.drawer?(D(),G("div",$l,[u("div",{class:"menu-item",onClick:o[6]||(o[6]=n=>e.navegarA("/"))},[w(ie,{name:"home",class:"q-mr-sm"}),Q("Inicio ")]),u("div",{class:"menu-item",onClick:o[7]||(o[7]=n=>e.navegarA("/sucursales"))},[w(ie,{name:"store",class:"q-mr-sm"}),Q("Sucursales ")]),u("div",{class:"menu-item",onClick:o[8]||(o[8]=(...n)=>e.scrollCategorias&&e.scrollCategorias(...n))},[w(ie,{name:"category",class:"q-mr-sm"}),Q("Categor\xEDas ")])])):ce("",!0),w(Wo,null,{default:L(()=>[w(b)]),_:1}),w(Yo,{position:"bottom-right",class:"q-ma-md",offset:[18,18]},{default:L(()=>[w(X,{color:"green",fab:"",icon:"fa-solid fa-cart-shopping",onClick:e.clickCarrito},{default:L(()=>{var n,r;return[(n=e.$store)!=null&&n.carrito.length?(D(),Je(mt,{key:0,color:"red",floating:"",label:(r=e.$store)==null?void 0:r.carrito.length},null,8,["label"])):ce("",!0)]}),_:1},8,["onClick"])]),_:1}),w(Go,{class:"footer-modern no-border"},{default:L(()=>[u("div",ql,[u("div",xl,[u("div",zl,[Pl,Al,u("div",Il,[w(X,{round:"",dense:"",flat:"",class:"social",icon:"fa-brands fa-facebook",href:"https://www.facebook.com/profile.php?id=61562087074524",target:"_blank"}),w(X,{round:"",dense:"",flat:"",class:"social",icon:"fa-brands fa-instagram",href:" https://www.instagram.com/farmacias_santidad_divina/?igsh=emI5NGl6ODNvejJu/",target:"_blank"}),w(X,{round:"",dense:"",flat:"",class:"social",icon:"fa-brands fa-tiktok",href:"https://www.tiktok.com/@santidad_divina/",target:"_blank"}),w(X,{round:"",dense:"",flat:"",class:"social",icon:"fa-brands fa-whatsapp",href:"https://wa.me/59172319869",target:"_blank"})])]),u("div",Ol,[El,u("div",Tl,[w(g,{class:"link",to:"/"},{default:L(()=>[Q("Inicio")]),_:1}),w(g,{class:"link",to:"/sucursales"},{default:L(()=>[Q("Sucursales")]),_:1}),Ll,Fl])]),u("div",Bl,[Ml,u("div",Rl,[w(g,{class:"link",to:"/privacidad"},{default:L(()=>[Q("Pol\xEDticas de Privacidad")]),_:1}),w(g,{class:"link",to:"/envio"},{default:L(()=>[Q("Pol\xEDtica de Env\xEDo")]),_:1}),w(g,{class:"link",to:"/terminos"},{default:L(()=>[Q("T\xE9rminos y Condiciones")]),_:1}),w(g,{class:"link",to:"/quienes-somos"},{default:L(()=>[Q("Qui\xE9nes Somos")]),_:1})])]),u("div",Hl,[Nl,u("div",Dl,[u("div",Ql,[w(ie,{name:"place",size:"20px"}),jl]),u("div",Wl,[w(ie,{name:"schedule",size:"20px"}),Kl]),u("div",Ul,[w(ie,{name:"phone",size:"20px"}),Yl])]),u("div",Xl,[w(Rt,{dense:"",standout:"",modelValue:e.newsletter,"onUpdate:modelValue":o[9]||(o[9]=n=>e.newsletter=n),placeholder:"Tu correo electr\xF3nico",type:"email"},{append:L(()=>[w(X,{dense:"",flat:"",icon:"send",onClick:e.suscribir},null,8,["onClick"])]),_:1},8,["modelValue"]),e.newsletterOk?(D(),G("div",Gl,"\xA1Gracias por suscribirte!")):ce("",!0)])])])]),w(vt,{dark:"",class:"separator"}),u("div",Jl,[u("div",Zl,[u("div",ei," \xA9 "+W(new Date().getFullYear())+" Farmacia Santidad Divina. Todos los derechos reservados. ",1),u("div",ti,[w(g,{class:"link tiny",to:"/privacidad"},{default:L(()=>[Q("Privacidad")]),_:1}),w(g,{class:"link tiny",to:"/terminos"},{default:L(()=>[Q("T\xE9rminos")]),_:1}),oi])])])]),_:1}),w(pt,{modelValue:e.carritoDialog,"onUpdate:modelValue":o[12]||(o[12]=n=>e.carritoDialog=n),maximized:"",position:"right"},{default:L(()=>[w(Ht,{class:"carrito-moderno"},{default:L(()=>{var n;return[w(De,{class:"carrito-header"},{default:L(()=>{var r;return[u("div",li,[w(ie,{name:"fa-solid fa-cart-shopping",class:"q-mr-sm"}),Q(" Mi Carrito "),(r=e.$store)!=null&&r.carrito.length?(D(),Je(mt,{key:0,color:"red",class:"q-ml-sm"},{default:L(()=>{var c;return[Q(W((c=e.$store)==null?void 0:c.carrito.length),1)]}),_:1})):ce("",!0)]),w(Zo),w(X,{flat:"",round:"",icon:"close",onClick:e.clickCarrito},null,8,["onClick"])]}),_:1}),w(De,{class:"carrito-content"},{default:L(()=>{var r,c;return[(r=e.$store)!=null&&r.carrito.length?(D(),G("div",si,[(D(!0),G(dt,null,ft((c=e.$store)==null?void 0:c.carrito,(d,V)=>(D(),G("div",{class:"producto-item",key:d.id},[u("div",ri,[w(Ro,{src:d.imagen.includes("http")?d.imagen:`${e.$url}../images/${d.imagen}`,alt:d.nombre,class:"imagen",onError:o[10]||(o[10]=S=>S.target.src="/images/productDefault.jpg")},null,8,["src","alt"])]),u("div",ui,[u("div",ci,W(d.nombre),1),u("div",di,"Bs. "+W(e.formatPrice(d.precio)),1),u("div",fi,[w(X,{round:"",dense:"",icon:"remove",size:"sm",onClick:S=>e.decrementarCantidad(V),disable:d.cantidad<=1},null,8,["onClick","disable"]),u("span",vi,W(d.cantidad),1),w(X,{round:"",dense:"",icon:"add",size:"sm",onClick:S=>e.incrementarCantidad(V)},null,8,["onClick"])])]),u("div",mi,[u("div",hi,"Bs. "+W(e.formatPrice(d.precio*d.cantidad)),1),w(X,{flat:"",round:"",icon:"delete",color:"red",size:"sm",onClick:S=>e.removeCarrito(V),class:"q-mt-xs"},null,8,["onClick"])])]))),128))])):(D(),G("div",ii,[w(ie,{name:"fa-solid fa-cart-plus",size:"64px",color:"grey-4"}),ni,ai]))]}),_:1}),(n=e.$store)!=null&&n.carrito.length?(D(),Je(De,{key:0,class:"resumen-pedido"},{default:L(()=>[w(vt,{class:"q-mb-md"}),u("div",gi,[pi,u("span",Si,"Bs. "+W(e.formatPrice(e.subtotal)),1)]),yi,w(vt,{class:"q-my-md"}),u("div",bi,[wi,u("span",ki,"Bs. "+W(e.formatPrice(e.subtotal)),1)]),w(rl,{modelValue:e.selectedSucursal,"onUpdate:modelValue":o[11]||(o[11]=r=>e.selectedSucursal=r),options:e.sucursales.map(r=>({label:r.nombre,value:r.id})),label:"Selecciona la sucursal",filled:"",class:"q-mb-md",disable:!e.sucursales.length,placeholder:"Elige una sucursal",required:""},null,8,["modelValue","options","disable"]),w(X,{icon:"fa-brands fa-whatsapp",label:"Pedir por WhatsApp",color:"green","no-caps":"",class:"full-width q-mt-lg whatsapp-btn",size:"lg",onClick:e.pedirCarritoWhatsApp},null,8,["onClick"])]),_:1})):ce("",!0)]}),_:1})]),_:1},8,["modelValue"]),w(pt,{modelValue:e.validacionStock.dialog,"onUpdate:modelValue":o[13]||(o[13]=n=>e.validacionStock.dialog=n),persistent:""},{default:L(()=>[w(Ht,{class:"carrito-moderno",style:{"max-width":"500px"}},{default:L(()=>[w(De,{class:"carrito-header"},{default:L(()=>[u("div",_i,[w(ie,{name:"warning",color:"orange",class:"q-mr-sm"}),Q(" Productos sin stock disponible ")])]),_:1}),w(De,{class:"carrito-content"},{default:L(()=>{var n;return[u("div",Ci,[Q(" Los siguientes productos no tienen stock suficiente en la sucursal "),u("strong",null,W((n=e.validacionStock.sucursalSeleccionada)==null?void 0:n.label),1),Q(": ")]),u("div",Vi,[(D(!0),G(dt,null,ft(e.validacionStock.productosSinStock,r=>(D(),G("div",{key:r.producto_id,class:"producto-sin-stock q-pa-sm q-mb-sm",style:{border:"1px solid #ffcdd2","border-radius":"8px",background:"#fff5f5"}},[u("div",$i,[u("div",qi,[u("div",xi,W(r.nombre),1),u("div",zi,[Q(" Stock disponible: "),u("strong",null,W(r.stock_disponible),1),Q(" | Pedido: "),u("strong",null,W(r.cantidad_solicitada),1)])]),u("div",Pi,[w(mt,{color:"red",class:"q-ml-sm"},{default:L(()=>[Q(" Faltan: "+W(r.cantidad_solicitada-r.stock_disponible),1)]),_:2},1024)])])]))),128))]),Ai]}),_:1}),w(Lo,{align:"right",class:"q-pa-md"},{default:L(()=>[w(X,{flat:"",label:"Cancelar todo",color:"negative",onClick:e.cancelarPedido},null,8,["onClick"]),w(X,{flat:"",label:"Editar cantidades",color:"primary",onClick:e.editarCantidades},null,8,["onClick"]),w(X,{label:"Eliminar sin stock y enviar",color:"positive",onClick:e.eliminarSinStockYEnviar},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var Ri=Oo(fl,[["render",Ii],["__scopeId","data-v-69c004ff"]]);export{Ri as default};
